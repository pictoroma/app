{"version":3,"sources":["assets/images/tourist.png","src/context/graphql/index.tsx","src/theme/light.ts","src/theme/dark.ts","src/components/Icon/index.tsx","src/components/avatar/index.tsx","src/typography/index.ts","src/components/Button/index.tsx","src/components/Modal/index.web.tsx","src/components/Row/Cell.tsx","src/components/Row/index.tsx","src/components/Row/PlaceholderIcon.tsx","src/components/Page/index.tsx","src/components/Popup/index.tsx","src/components/posts/filter/index.tsx","src/components/Row/Header.tsx","src/components/Group/index.tsx","src/components/Input/index.tsx","src/components/Dialog/index.tsx","src/components/Header/index.tsx","src/components/gallery/index.tsx","src/components/rows/post/index.tsx","src/components/add-images/index.tsx","src/components/inputs/feed/index.tsx","src/components/inputs/user/index.tsx","src/components/inputs/name-value/index.tsx","src/hooks/graphql.tsx","src/components/utils/push-registration.tsx","src/hooks/media.ts","src/hooks/posts.ts","src/hooks/profile.ts","src/screens/posts/add/index.tsx","src/screens/posts/feed/index.tsx","src/hooks/feeds.ts","src/screens/profile/index.tsx","src/hooks/users.ts","src/screens/feeds/edit/index.tsx","src/screens/login/login/index.tsx","src/screens/login/accept-invitation/index.tsx","src/screens/comments/index.tsx","src/router/index.tsx","App.tsx","src/App.tsx","src/hooks/colors.ts","src/context/server/index.tsx","src/context/server/push.ts","src/components/Image/index.web.tsx"],"names":["module","exports","GraphQLProvider","children","useContext","ServerContext","token","domain","apolloClient","useMemo","link","createHttpLink","uri","authLink","setContext","_","headers","authorization","ApolloClient","cache","InMemoryCache","concat","ApolloProvider","client","lightTheme","colors","primary","icon","destructive","shade","input","secondary","shadow","background","text","textShade","sizes","corners","icons","margins","small","medium","large","font","baseSize","darkTheme","light","Icon","size","color","name","theme","useTheme","Feather","Touchable","styled","TouchableOpacity","Wrapper","View","Avatar","mediaId","onPress","content","media","aspect","id","BaseText","Text","bold","Jumbo","Title1","Body1","Overline","Link","Touch","getColors","type","bg","fg","StyledLink","Button","title","accessibilityHint","accessibilityRole","accessibilityLabel","accessible","Modal","visible","elm","newElm","document","createElement","style","position","display","flexDirection","left","top","width","height","transition","transform","useEffect","body","appendChild","removeChild","ReactDOM","createPortal","flex","direction","align","Cell","props","others","node","Children","componentOrString","Component","Row","right","overline","description","KeyboardAvoiding","KeyboardAvoidingView","Pressable","Page","useState","keyboardShown","setKeyboardShown","show","Keyboard","addListener","hide","remove","disabled","dismiss","behavior","Platform","OS","Top","Outer","Popup","onClose","insets","useSafeAreaInsets","transparent","animationType","paddingBottom","bottom","PostFilter","selected","feeds","onSelect","setVisible","length","map","feed","isSelected","includes","filter","s","Header","add","Group","items","getKey","render","item","marginLeft","InputField","TextInput","Input","label","value","onChangeText","autoCorrect","secure","keyboardType","autoCapitalize","secureTextEntry","placeholderTextColor","placeholder","Content","Dialog","renderSelect","search","create","allowClear","searchInput","setSeachInput","results","useCallback","select","createItem","a","async","FlatList","data","keyExtractor","renderItem","undefined","back","actions","navigation","useNavigation","paddingTop","goBack","Ionicons","action","ScrollWrapper","ScrollView","ScrollContent","TouchableWithoutFeedback","ScrollPage","DotWrapper","Dot","Pager","current","total","dots","Array","fill","i","Gallery","setWidth","offset","setOffset","currentIndex","Math","round","lightboxVisible","setLightboxVisible","lightboxImages","Authorization","currentMedia","currentAspect","Lightbox","images","imageIndex","onRequestClose","FooterComponent","dark","horizontal","scrollEventThrottle","snapToInterval","showsHorizontalScrollIndicator","decelerationRate","snapToAlignment","disableIntervalMomentum","onScroll","evt","nativeEvent","contentOffset","x","onLayout","currentWidth","layout","PostRow","post","menuVisible","setMenuVisible","creator","avatar","navigate","commentCount","username","Image","Spacer","Item","ImageWrapper","AddImages","files","onUpdate","pickImage","ImagePicker","mediaTypes","All","quality","base64","result","cancelled","split","filename","match","exec","file","f","m","source","FeedInput","UserInput","users","NameValueInput","key","defaultOptions","CreateCommentDocument","gql","FeedDocument","CreateFeedDocument","AddUserToFeedDocument","RemoveUserFromFeedDocument","PostDocument","PostsDocument","CreatePostDocument","ProfileDocument","useProfileQuery","baseOptions","options","Apollo","SetProfileAvatarDocument","RegisterPushNotificationDocument","UsersDocument","PushRegistation","pushToken","useRegisterPushNotificationMutation","registerPushMutation","variables","useCreateMedia","Promise","all","FormData","append","fetch","method","response","ok","console","error","Error","json","ids","useCreatePost","useCreatePostMutation","createPostMutation","createMedia","params","useFeed","usePostsQuery","log","posts","useSetAvatar","useSetProfileAvatarMutation","setAvatarMutation","useProfile","refetch","loading","profile","AddPostScreen","selectedFeed","setSelectedFeed","setMedia","setBody","createPost","adminFeeds","accessType","submit","useFocusEffect","Seperator","FeedScreen","selectedFeeds","setSelectedFeeds","userFeeds","columns","ceil","Dimensions","get","numColumns","ItemSeparatorComponent","refreshControl","RefreshControl","refreshing","onRefresh","useFeedQuery","feedId","useCreateFeed","useCreateFeedMutation","createFeedMutation","useAddUserToFeed","useAddUserToFeedMutation","addUserToFeedMutation","userId","useRemoveUserFromFeed","useRemoveUserFromFeedMutation","removeUserFromFeedMutation","ProfileScreen","logout","createFeed","addFeedVisible","setAddFeedVisible","feedName","setFeedName","setAvatar","saveAddFeed","admin","useUsers","useUsersQuery","accessTypes","FeedEditScreen","route","removeUserFromFeed","addUserToFeed","addUserVisible","setAddUserVisible","addUserSelected","setAddUserSelected","addUserAccessType","setAddUserAccessType","addUser","removeUser","relation","user","LoginScreen","login","setLoading","setError","setDomain","setUsername","password","setPassword","doLogin","catch","err","image","toString","AcceptInvitationScreen","inviteCode","acceptInvitation","doAccept","CommentsScreen","setContent","useCreateCommentMutation","createCommentMutation","usePostQuery","postId","createComment","inverted","comments","reverse","RootStack","createNativeStackNavigator","TabStack","createBottomTabNavigator","ProfileStack","Profile","Navigator","screenOptions","headerShown","Screen","component","Tabs","canCreate","find","tabBarActiveTintColor","tabBarIcon","focused","Root","contentStyle","backgroundColor","presentation","initialParams","Router","colorScheme","baseTheme","DarkTheme","DefaultTheme","navigationTheme","card","NavigationContainer","getSizeWithHeaders","success","failed","App","_useColorScheme","StatusBar","createContext","ServerProvider","context","setPushToken","ready","setReady","AsyncStorage","removeItem","Device","Notifications","existingStatus","status","finalStatus","alert","importance","MAX","vibrationPattern","lightColor","registerForPushNotificationsAsync","then","secret","authUrl","Accept","JSON","stringify","query","errors","createAuthToken","setItem","invitation","rawInvite","Buffer","from","parse","creationToken","getItem","nextContext","run","Provider","url","setUrl","arrayBuffer","binaryData","contentType"],"mappings":"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","file":"static/js/app.8bf42e81.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tourist.e3fa36f8.png\";","import {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport React, { useContext, useMemo } from 'react';\nimport { ServerContext } from '../server';\n\nconst GraphQLProvider: React.FC = ({ children }) => {\n  const { token, domain } = useContext(ServerContext);\n  const apolloClient = useMemo(() => {\n    const link = createHttpLink({\n      uri: `${domain}/graphql`,\n    });\n    const authLink = setContext((_, { headers }) => {\n      return {\n        headers: {\n          ...headers,\n          authorization: `bearer ${token}`,\n        },\n      };\n    });\n    return new ApolloClient({\n      cache: new InMemoryCache(),\n      link: authLink.concat(link),\n    });\n  }, [token, domain]);\n\n  if (!domain) {\n    return <>{children}</>;\n  }\n\n  return <ApolloProvider client={apolloClient}>{children}</ApolloProvider>;\n};\n\nexport { GraphQLProvider };\n","import Theme from './Theme';\n\nconst lightTheme: Theme = {\n  colors: {\n    primary: '#1abc9c',\n    icon: '#1abc9c',\n    destructive: '#e74c3c',\n    shade: '#ededed',\n    input: '#ddd',\n    secondary: 'blue',\n    shadow: '#000',\n    background: '#fff',\n    text: '#000',\n    textShade: '#999',\n  },\n  sizes: {\n    corners: 5,\n    icons: 24,\n  },\n  margins: {\n    small: 8,\n    medium: 16,\n    large: 24,\n  },\n  font: {\n    baseSize: 14,\n  },\n};\n\nexport default lightTheme;\n","import Theme from './Theme';\nimport light from './light';\n\nconst darkTheme: Theme = {\n  ...light,\n  colors: {\n    ...light.colors,\n    primary: '#e67e22',\n    input: '#333',\n    icon: '#e67e22',\n    background: '#151515',\n    shadow: '#000',\n    secondary: 'blue',\n    shade: '#000',\n    text: '#fff',\n    textShade: '#666',\n  },\n};\n\nexport default darkTheme;\n","import React from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { useTheme } from 'styled-components/native';\nimport { Theme } from '#/theme';\n\ntype Props = {\n  size?: number;\n  color?: keyof Theme['colors'];\n  name: keyof typeof Feather.glyphMap;\n};\n\nfunction Icon({ size, color, name }: Props) {\n  const theme = useTheme();\n  return (\n    <Feather\n      name={name}\n      color={color ? theme.colors[color] : theme.colors.icon}\n      size={size ?? theme.sizes.icons}\n    />\n  );\n}\n\nexport { Icon };\n","import styled from 'styled-components/native';\nimport { Icon } from '../Icon';\nimport { Image } from '../Image';\n\ntype Props = {\n  mediaId?: string;\n  onPress?: () => void;\n};\n\nconst Touchable = styled.TouchableOpacity``;\nconst Wrapper = styled.View`\n  position: relative;\n  width: 50px;\n  height: 50px;\n  border-radius: 25px;\n  overflow: hidden;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Avatar: React.FC<Props> = ({ mediaId, onPress }) => {\n  const content = (\n    <Wrapper>\n      {mediaId ? (\n        <Image media={{ aspect: 1, id: mediaId }} />\n      ) : (\n        <Icon name=\"user\" />\n      )}\n    </Wrapper>\n  );\n\n  if (onPress) {\n    return <Touchable onPress={onPress}>{content}</Touchable>;\n  }\n  return content;\n};\n\nexport { Avatar };\n","import styled from 'styled-components/native';\nimport Theme from '#/theme/Theme';\n\ninterface TextProps {\n  color?: keyof Theme['colors'];\n  bold?: boolean;\n  theme: Theme;\n}\n\nconst BaseText = styled.Text<TextProps>`\n  color: ${({ color, theme }) =>\n    color ? theme.colors[color] : theme.colors.text};\n  font-weight: ${({ bold }) => (bold ? 'bold' : 'normal')};\n  font-size: ${({ theme }) => theme.font.baseSize}px;\n`;\n\nconst Jumbo = styled(BaseText)`\n  font-size: ${({ theme }) => theme.font.baseSize * 2.8}px;\n  font-weight: bold;\n`;\n\nconst Title2 = styled(BaseText)`\n  font-size: ${({ theme }) => theme.font.baseSize * 1.3}px;\n  font-weight: bold;\n`;\n\nconst Title1 = styled(BaseText)`\n  font-weight: bold;\n`;\n\nconst Body1 = styled(BaseText)``;\n\nconst Overline = styled(BaseText)`\n  font-size: ${({ theme }) => theme.font.baseSize * 0.6}px;\n  text-transform: uppercase;\n`;\n\nconst Caption = styled(BaseText)`\n  font-size: ${({ theme }) => theme.font.baseSize * 0.8}px;\n`;\n\nconst Link = styled(BaseText)`\n  text-transform: uppercase;\n`;\n\nexport type { TextProps };\nexport { Jumbo, Title2, Title1, Body1, Overline, Caption, Link };\n","import React from 'react';\nimport styled from 'styled-components/native';\nimport { TouchableOpacity } from 'react-native';\nimport { Theme } from '#/theme';\nimport { Link } from '#/typography';\n\ninterface Props {\n  title: string;\n  onPress?: () => any;\n  accessibilityRole?: TouchableOpacity['props']['accessibilityRole'];\n  accessibilityLabel?: string;\n  accessibilityHint?: string;\n  type?: 'primary' | 'secondary' | 'destructive';\n}\n\nconst Touch = styled.TouchableOpacity``;\n\nconst getColors = (type: Props['type'], theme: Theme) => {\n  if (type === 'secondary') {\n    return { bg: theme.colors.secondary, fg: '#fff' };\n  }\n  if (type === 'destructive') {\n    return { bg: 'transparent', fg: theme.colors.destructive };\n  }\n  return { bg: theme.colors.primary, fg: '#fff' };\n};\n\nconst Wrapper = styled.View<{\n  theme: Theme;\n  type: Props['type'];\n}>`\n  background: ${({ theme, type }) => getColors(type, theme).bg};\n  padding: ${({ theme }) => theme.margins.small}px;\n  border-radius: ${({ theme }) => theme.sizes.corners}px;\n  align-items: center;\n`;\n\nconst StyledLink = styled<{\n  theme: Theme;\n  type: Props['type'];\n}>(Link)`\n  color: ${({ theme, type }) => getColors(type, theme).fg};\n  font-weight: bold;\n`;\n\nconst Button: React.FC<Props> = ({\n  title,\n  onPress,\n  accessibilityHint,\n  accessibilityRole,\n  accessibilityLabel,\n  type,\n}) => (\n  <Touch\n    onPress={onPress}\n    accessible\n    accessibilityHint={accessibilityHint}\n    accessibilityRole={accessibilityRole}\n    accessibilityLabel={accessibilityLabel}\n  >\n    <Wrapper type={type}>\n      <StyledLink type={type}>{title}</StyledLink>\n    </Wrapper>\n  </Touch>\n);\n\nexport { Button };\n","import ReactDOM from 'react-dom';\nimport React, { useMemo, useEffect, ReactNode } from 'react';\n\ninterface Props {\n  visible: boolean;\n  children: ReactNode;\n}\n\nconst Modal: React.FC<Props> = ({ visible, children }) => {\n  const elm = useMemo(() => {\n    const newElm = document.createElement('div');\n    newElm.style.position = 'fixed';\n    newElm.style.display = 'flex';\n    newElm.style.flexDirection = 'column';\n    newElm.style.left = '0px';\n    newElm.style.top = '0px';\n    newElm.style.width = '100%';\n    newElm.style.height = '100%';\n    newElm.style.transition = 'transform 0.3s';\n    newElm.style.transform = 'translateY(100%)';\n    return newElm;\n  }, []);\n  useEffect(() => {\n    document.body.appendChild(elm);\n    return () => {\n      document.body.removeChild(elm);\n    };\n  }, [elm]);\n  useEffect(() => {\n    if (visible) {\n      elm.style.transform = 'translateY(0)';\n    } else {\n      elm.style.transform = 'translateY(100%)';\n    }\n  }, [elm, visible]);\n\n  return ReactDOM.createPortal(<>{children}</>, elm);\n};\n\nexport { Modal };\n","import React, { ReactNode } from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport styled from 'styled-components/native';\nimport { Theme } from '#/theme';\n\ninterface Props {\n  accessibilityRole?: TouchableOpacity['props']['accessibilityRole'];\n  accessibilityLabel?: string;\n  accessibilityHint?: string;\n  children?: ReactNode;\n  onPress?: () => any;\n  background?: string;\n  flex?: string | number;\n  direction?: 'row' | 'column';\n  align?: 'flex-start' | 'flex-end' | 'center' | 'stretch';\n}\n\nconst Wrapper = styled.View<{\n  background?: string;\n  flex?: string | number;\n  direction?: 'row' | 'column';\n  theme: Theme;\n  align?: 'flex-start' | 'flex-end' | 'center' | 'stretch';\n}>`\n  padding: ${({ theme }) => theme.margins.medium / 2}px\n    ${({ theme }) => theme.margins.medium / 2}px;\n  ${({ background }) => (background ? `background: ${background};` : '')}\n  ${({ flex }) => (flex ? `flex: ${flex};` : '')}\n  flex-direction: ${({ direction }) => (direction ? direction : 'row')};\n  align-items: ${({ align }) => (align ? align : 'center')};\n`;\n\nconst Touch = styled.TouchableOpacity``;\n\nconst Cell: React.FC<Props> = ({ children, onPress, ...props }) => {\n  const {\n    accessibilityLabel,\n    accessibilityRole,\n    accessibilityHint,\n    ...others\n  } = props;\n  const node = <Wrapper {...others}>{children}</Wrapper>;\n  if (onPress) {\n    return (\n      <Touch\n        accessible\n        accessibilityRole={accessibilityRole || 'button'}\n        accessibilityLabel={accessibilityLabel}\n        accessibilityHint={accessibilityHint}\n        onPress={onPress}\n      >\n        {node}\n      </Touch>\n    );\n  }\n  return node;\n};\n\nexport { Cell };\n","import React, { ReactNode } from 'react';\nimport styled from 'styled-components/native';\nimport { Title1, Body1, Overline } from '#/typography';\nimport { Cell } from './Cell';\nimport { PlaceholderIcon } from './PlaceholderIcon';\n\ninterface Props {\n  background?: string;\n  top?: ReactNode;\n  left?: ReactNode;\n  right?: ReactNode;\n  title?: ReactNode;\n  overline?: ReactNode;\n  description?: ReactNode;\n  children?: ReactNode;\n  onPress?: () => any;\n}\n\nconst Children = styled.View``;\n\nconst componentOrString = (\n  input: ReactNode,\n  Component: React.FC<{ children: ReactNode }>\n) => {\n  if (!input) {\n    return null;\n  }\n  if (typeof input === 'string') {\n    return <Component>{input}</Component>;\n  }\n  return input;\n};\n\nconst Row: React.FC<Props> = ({\n  background,\n  top,\n  left,\n  right,\n  title,\n  overline,\n  description,\n  children,\n  onPress,\n}) => (\n  <Cell background={background} onPress={onPress}>\n    {left}\n    <Cell flex={1} direction=\"column\" align=\"stretch\">\n      {!!top}\n      {componentOrString(overline, Overline)}\n      {componentOrString(title, Title1)}\n      {componentOrString(description, Body1)}\n      {!!children && <Children>{children}</Children>}\n    </Cell>\n    {right}\n  </Cell>\n);\n\nexport { Row, Cell, PlaceholderIcon };\n","import React from 'react';\nimport styled from 'styled-components/native';\nimport { Cell } from './Cell';\n\ninterface Props {\n  color?: string;\n  size?: number;\n  onPress?: () => void;\n}\n\nconst Icon = styled.View<{ size: number; color: string }>`\n  background: ${({ color }) => color};\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  border-radius: ${({ size }) => size / 4}px;\n`;\n\nconst PlaceholderIcon: React.FC<Props> = ({\n  color = 'red',\n  size = 24,\n  onPress,\n}) => (\n  <Cell onPress={onPress}>\n    <Icon color={color} size={size} />\n  </Cell>\n);\n\nexport { PlaceholderIcon };\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components/native';\nimport { Keyboard, Platform } from 'react-native';\n\nconst KeyboardAvoiding = styled.KeyboardAvoidingView`\n  flex: 1;\n`;\n\nconst Pressable = styled.Pressable`\n  flex: 1;\n`;\n\nconst Page: React.FC = ({ children }) => {\n  const [keyboardShown, setKeyboardShown] = useState(false);\n  useEffect(() => {\n    const keyboardDidShow = () => setKeyboardShown(true);\n    const keyboardDidHide = () => setKeyboardShown(false);\n    const show = Keyboard.addListener('keyboardDidShow', keyboardDidShow);\n    const hide = Keyboard.addListener('keyboardDidHide', keyboardDidHide);\n\n    return () => {\n      show.remove();\n      hide.remove();\n    };\n  }, []);\n  return (\n    <Pressable disabled={!keyboardShown} onPress={() => Keyboard.dismiss()}>\n      <KeyboardAvoiding behavior={Platform.OS === 'ios' ? 'padding' : 'height'}>\n        {children}\n      </KeyboardAvoiding>\n    </Pressable>\n  );\n};\n\nexport { Page };\n","import React, { ReactNode } from 'react';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport styled from 'styled-components/native';\nimport { Icon } from '#/components/Icon';\nimport { Modal } from '#/components/Modal';\nimport { Row, Cell } from '#/components/Row';\nimport { Page } from '#/components/Page';\n\ninterface Props {\n  visible: boolean;\n  onClose?: () => void;\n  children: ReactNode;\n}\n\nconst Top = styled.Pressable`\n  flex: 1;\n`;\n\nconst Wrapper = styled.View`\n  background: ${({ theme }) => theme.colors.background};\n  width: 100%;\n  shadow-color: ${({ theme }) => theme.colors.shadow};\n  shadow-offset: 0 0;\n  shadow-opacity: 1;\n  shadow-radius: 200px;\n  border-radius: 12px;\n  margin-bottom: -12px;\n`;\n\nconst Outer = styled.View`\n  flex: 1;\n`;\n\nconst Popup: React.FC<Props> = ({ visible, children, onClose }) => {\n  const insets = useSafeAreaInsets();\n\n  return (\n    <Modal visible={visible} transparent animationType=\"slide\">\n      <Page>\n        <Outer>\n          <Top onPress={onClose} />\n          <Wrapper style={{ paddingBottom: insets.bottom + 12 }}>\n            <Row\n              right={\n                <Cell onPress={onClose}>\n                  <Icon name=\"x-circle\" />\n                </Cell>\n              }\n            />\n            {children}\n          </Wrapper>\n        </Outer>\n      </Page>\n    </Modal>\n  );\n};\n\nexport { Popup };\n","import { Button } from '#/components/Button';\nimport { Icon } from '#/components/Icon';\nimport { Popup } from '#/components/Popup';\nimport { Cell, Row } from '#/components/Row';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components/native';\n\nconst Content = styled.View`\n  min-height: 40%;\n`;\n\ninterface PostFilterProps {\n  selected?: string[];\n  feeds?: {\n    id: string;\n    name: string;\n  }[];\n  onSelect: (ids: string[]) => void;\n}\nconst PostFilter: React.FC<PostFilterProps> = ({\n  selected = [],\n  feeds = [],\n  onSelect,\n}) => {\n  const [visible, setVisible] = useState(false);\n  return (\n    <>\n      <Cell onPress={() => setVisible(true)}>\n        <Icon name=\"filter\" color={selected.length > 0 ? 'primary' : 'text'} />\n      </Cell>\n      <Popup visible={visible} onClose={() => setVisible(false)}>\n        {feeds.map(feed => {\n          const isSelected = selected.includes(feed.id);\n          return (\n            <Row\n              key={feed.id}\n              onPress={\n                isSelected\n                  ? () => onSelect(selected.filter(s => s !== feed.id))\n                  : () => onSelect([...selected, feed.id])\n              }\n              left={\n                <Cell>\n                  <Icon name={isSelected ? 'check-circle' : 'circle'} />\n                </Cell>\n              }\n              title={feed.name}\n            />\n          );\n        })}\n        {selected.length > 0 && (\n          <Row>\n            <Button title=\"Clear\" onPress={() => onSelect([])} />\n          </Row>\n        )}\n      </Popup>\n    </>\n  );\n};\n\nexport { PostFilter };\n","import React, { ReactNode } from 'react';\nimport { Icon } from '#/components/Icon';\nimport { Row, Cell } from './index';\n\ninterface Props {\n  title: string;\n  add?: () => void;\n  onPress?: () => void;\n  left?: ReactNode;\n}\n\nfunction Header({ title, add, onPress, left }: Props) {\n  return (\n    <Row\n      onPress={onPress}\n      left={left}\n      title={title}\n      right={\n        add && (\n          <Cell onPress={add}>\n            <Icon name=\"plus-circle\" size={18} />\n          </Cell>\n        )\n      }\n    />\n  );\n}\n\nexport { Header };\n","import React, { Fragment, ReactNode, useState } from 'react';\nimport { Icon } from '#/components/Icon';\nimport { Header } from '#/components/Row/Header';\nimport styled from 'styled-components/native';\nimport { Row, Cell } from '#/components/Row';\nimport { Body1 } from '#/typography';\n\ninterface ListProps<T> {\n  title: string;\n  items: T[];\n  getKey: (item: T) => any;\n  render: (item: T) => ReactNode;\n  add?: () => void;\n}\n\ninterface ChildProps {\n  title: string;\n  add?: () => void;\n  children?: ReactNode;\n}\n\nconst Wrapper = styled.View`\n  border-radius: 7px;\n  background: ${({ theme }) => theme.colors.background};\n  shadow-offset: 0px;\n  shadow-opacity: 0.1;\n  shadow-color: ${({ theme }) => theme.colors.shadow};\n  shadow-radius: 5px;\n`;\n\nfunction Group<T = any>(props: ListProps<T> | ChildProps) {\n  const [visible, setVisible] = useState(true);\n  const { title, items, getKey, render, add, children } =\n    props as ListProps<T> & ChildProps;\n  return (\n    <Row>\n      <Wrapper>\n        <Header\n          left={\n            <Icon name={visible ? 'chevron-down' : 'chevron-up'} size={18} />\n          }\n          title={title}\n          add={add}\n          onPress={() => setVisible(!visible)}\n        />\n        {visible &&\n          items &&\n          items.map(item => (\n            <Fragment key={getKey(item)}>{render(item)}</Fragment>\n          ))}\n        {visible && children}\n        {visible && !children && (!items || items.length === 0) && (\n          <Row\n            left={\n              <Cell>\n                <Icon color=\"textShade\" name=\"maximize\" />\n              </Cell>\n            }\n          >\n            <Body1 style={{ marginLeft: 10 }} color=\"textShade\">\n              Empty\n            </Body1>\n          </Row>\n        )}\n      </Wrapper>\n    </Row>\n  );\n}\n\nexport { Group };\n","import React from 'react';\nimport { KeyboardType } from 'react-native';\nimport styled, { useTheme } from 'styled-components/native';\n\ninterface Props {\n  label: string;\n  value: string;\n  onChangeText?: (text: string) => any;\n  type?: KeyboardType;\n  autoCorrect?: boolean;\n  secure?: boolean;\n}\n\nconst InputField = styled.TextInput`\n  color: ${({ theme }) => theme.colors.text};\n  padding: ${({ theme }) => theme.margins.small}px 0;\n  font-size: ${({ theme }) => theme.font.baseSize}px;\n  width: 100%;\n`;\n\nconst Input: React.FC<Props> = ({\n  label,\n  value,\n  onChangeText,\n  type,\n  autoCorrect,\n  secure,\n}) => {\n  const theme = useTheme();\n  return (\n    <InputField\n      value={value}\n      keyboardType={type}\n      autoCapitalize={'none'}\n      autoCorrect={autoCorrect}\n      secureTextEntry={secure}\n      placeholderTextColor={theme.colors.textShade}\n      placeholder={label}\n      onChangeText={onChangeText}\n    />\n  );\n};\n\nexport { Input };\n","import React, { ReactNode, useCallback, useMemo, useState } from 'react';\nimport { Popup } from '#/components/Popup';\nimport { FlatList } from 'react-native';\nimport styled from 'styled-components/native';\nimport { Input } from '#/components/Input';\nimport { Row } from '#/components/Row';\nimport { Button } from '#/components/Button';\n\ninterface Props<T> {\n  visible: boolean;\n  onClose: () => void;\n  selected?: T;\n  allowClear?: boolean;\n  items: T[];\n  onSelect: (item?: T) => void;\n  renderSelect: (item: T) => ReactNode;\n  getKey: (item: T) => any;\n  search?: (term: string, items: T[]) => T[];\n  create?: (term: string) => Promise<T>;\n}\n\nconst Touch = styled.TouchableOpacity``;\nconst Content = styled.View`\n  min-height: 40%;\n`;\n\nfunction Dialog<T>({\n  visible,\n  onClose,\n  items,\n  onSelect,\n  renderSelect,\n  getKey,\n  search,\n  create,\n  allowClear,\n}: Props<T>) {\n  const [searchInput, setSeachInput] = useState('');\n  const results = useMemo(() => {\n    if (!search || !searchInput) {\n      return items;\n    }\n    return search(searchInput, items);\n  }, [items, searchInput, search]);\n  const hide = useCallback(() => {\n    setSeachInput('');\n    onClose();\n  }, [setSeachInput, onClose]);\n\n  const select = useCallback(\n    (item: T) => {\n      onSelect(item);\n      hide();\n    },\n    [onSelect, hide]\n  );\n  const createItem = useCallback(async () => {\n    if (!create) {\n      return;\n    }\n    const item = await create(searchInput);\n    onSelect(item);\n    hide();\n  }, [create, searchInput, hide]);\n  return (\n    <Popup visible={visible} onClose={hide}>\n      {search && (\n        <Row>\n          <Input\n            label=\"Search\"\n            value={searchInput}\n            onChangeText={setSeachInput}\n          />\n        </Row>\n      )}\n      <Content>\n        {create && results.length === 0 && searchInput && (\n          <Row>\n            <Button title={`Create ${searchInput}`} onPress={createItem} />\n          </Row>\n        )}\n        {results.length > 0 && (\n          <FlatList\n            data={results}\n            keyExtractor={getKey}\n            style={{ flex: 1 }}\n            renderItem={({ item }) => (\n              <Touch onPress={() => select(item)}>{renderSelect(item)}</Touch>\n            )}\n          />\n        )}\n        {allowClear && (\n          <Row>\n            <Button title=\"Clear\" onPress={() => select(undefined)} />\n          </Row>\n        )}\n      </Content>\n    </Popup>\n  );\n}\n\nexport { Dialog };\n","import React, { ReactNode } from 'react';\nimport styled from 'styled-components/native';\nimport { useNavigation } from '@react-navigation/native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { Row, Cell } from '#/components/Row';\nimport { Button } from '#/components/Button';\nimport { Jumbo } from '#/typography';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\ninterface Props {\n  title: string;\n  back?: boolean;\n  actions?: {\n    title: string;\n    onPress?: () => any;\n  }[];\n  right?: ReactNode;\n}\n\nconst Wrapper = styled.View``;\n\nconst Header: React.FC<Props> = ({ title, back, actions, right }) => {\n  const navigation = useNavigation();\n  const insets = useSafeAreaInsets();\n\n  return (\n    <Wrapper style={{ paddingTop: insets.top }}>\n      <Row\n        left={\n          !!back && (\n            <Cell onPress={() => navigation.goBack()}>\n              <Ionicons name=\"arrow-back-circle\" size={26} />\n            </Cell>\n          )\n        }\n        right={\n          (actions || right) && (\n            <>\n              {actions &&\n                actions.map(action => (\n                  <Button\n                    key={action.title}\n                    title={action.title}\n                    onPress={action.onPress}\n                  />\n                ))}\n              {right}\n            </>\n          )\n        }\n      >\n        <Jumbo>{title}</Jumbo>\n      </Row>\n    </Wrapper>\n  );\n};\n\nexport { Header };\n","import styled, { ThemeProvider } from 'styled-components/native';\nimport ImageView from 'react-native-image-viewing';\nimport { DeepPartial } from '#/helpers/types';\nimport { MediaModel } from '#/hooks/graphql';\nimport { Image } from '../Image';\nimport { Cell, Row } from '../Row';\nimport { useContext, useMemo, useState } from 'react';\nimport { ServerContext } from '#/context/server';\nimport { Icon } from '../Icon';\nimport { dark } from '#/theme';\n\nconst ScrollWrapper = styled.ScrollView<{\n  height: number;\n}>`\n  height: ${({ height }) => height}px;\n  width: 100%;\n`;\n\nconst ScrollContent = styled.View`\n  flex-direction: row;\n`;\n\nconst Touchable = styled.TouchableWithoutFeedback``;\n\nconst ScrollPage = styled.View<{\n  width: number;\n}>`\n  width: ${({ width }) => width}px;\n`;\n\nconst Wrapper = styled.View`\n  border-radius: 5px;\n  overflow: hidden;\n`;\n\ntype PagerProps = {\n  current: number;\n  total: number;\n};\n\nconst DotWrapper = styled.View`\n  margin-top: 10px;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n`;\n\nconst Dot = styled.View<{\n  selected: boolean;\n}>`\n  width: 6px;\n  height: 6px;\n  background: ${({ selected }) => (selected ? '#000' : '#ccc')};\n  margin: 0 5px;\n  border-radius: 3px;\n`;\n\nconst Pager: React.FC<PagerProps> = ({ current, total }) => {\n  const dots = useMemo(\n    () => new Array(total).fill(undefined).map((_, i) => i),\n    [total]\n  );\n\n  return (\n    <DotWrapper>\n      {dots.map(i => (\n        <Dot key={i} selected={i === current} />\n      ))}\n    </DotWrapper>\n  );\n};\n\ntype GalleryProps = {\n  media: DeepPartial<MediaModel[]>;\n};\n\nconst Gallery: React.FC<GalleryProps> = ({ media }) => {\n  const [width, setWidth] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const { domain, token } = useContext(ServerContext);\n  const currentIndex = useMemo(\n    () => Math.round(offset / width) || 0,\n    [offset, width]\n  );\n  const [lightboxVisible, setLightboxVisible] = useState(false);\n  const lightboxImages = useMemo(\n    () =>\n      media.map(item => ({\n        uri: `${domain}/api/media/${item?.id}`,\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })),\n    [domain, token, media]\n  );\n  const currentMedia = useMemo(\n    () => media[currentIndex],\n    [media, currentIndex]\n  );\n  const currentAspect = useMemo(\n    () => currentMedia?.aspect || 1, // use current media aspect\n    [currentMedia]\n  );\n\n  if (media.length === 0) {\n    return <></>;\n  }\n  const Lightbox = () => (\n    <ImageView\n      images={lightboxImages}\n      imageIndex={currentIndex}\n      visible={lightboxVisible}\n      onRequestClose={() => setLightboxVisible(false)}\n      FooterComponent={() => (\n        <ThemeProvider theme={dark}>\n          <Row\n            right={\n              <Cell>\n                <Icon name=\"download\" />\n              </Cell>\n            }\n          />\n          <Row />\n        </ThemeProvider>\n      )}\n    />\n  );\n  if (media.length === 1) {\n    return (\n      <Row>\n        <Lightbox />\n        <Touchable onPress={() => setLightboxVisible(true)}>\n          <Wrapper>\n            <Image media={media[0]!} />\n          </Wrapper>\n        </Touchable>\n      </Row>\n    );\n  }\n\n  return (\n    <Row>\n      <Lightbox />\n      <Wrapper>\n        <ScrollWrapper\n          horizontal\n          scrollEventThrottle={16}\n          snapToInterval={width}\n          showsHorizontalScrollIndicator={false}\n          decelerationRate={0}\n          snapToAlignment=\"center\"\n          disableIntervalMomentum\n          height={width / currentAspect}\n          onScroll={evt => {\n            const offset = evt.nativeEvent.contentOffset.x;\n            setOffset(offset);\n          }}\n          onLayout={evt => {\n            const currentWidth = evt.nativeEvent.layout.width;\n            if (currentWidth !== width) {\n              setWidth(currentWidth);\n            }\n          }}\n        >\n          <Touchable onPress={() => setLightboxVisible(true)}>\n            <ScrollContent>\n              {media.map(item => (\n                <ScrollPage key={item!.id} width={width}>\n                  <Image media={item!} />\n                </ScrollPage>\n              ))}\n            </ScrollContent>\n          </Touchable>\n        </ScrollWrapper>\n      </Wrapper>\n      <Pager current={currentIndex} total={media.length} />\n    </Row>\n  );\n};\n\nexport { Gallery };\n","import { PostModel } from '#/hooks/graphql';\nimport styled from 'styled-components/native';\nimport { DeepPartial } from '#/helpers/types';\nimport { Cell, Row } from '#/components/Row';\nimport { Icon } from '#/components';\nimport { Gallery } from '#/components/gallery';\nimport { Body1 } from '#/typography';\nimport { Avatar } from '#/components/avatar';\nimport { useNavigation } from '@react-navigation/native';\nimport { Popup } from '#/components/Popup';\nimport { useState } from 'react';\n\ntype PostRowProps = {\n  post: DeepPartial<PostModel>;\n};\n\nconst Wrapper = styled.View``;\n\nconst PostRow: React.FC<PostRowProps> = ({ post }) => {\n  const navigation = useNavigation();\n  const [menuVisible, setMenuVisible] = useState(false);\n  return (\n    <Wrapper>\n      {post.media && <Gallery media={post!.media} />}\n      <Row\n        left={\n          <Cell>\n            <Avatar mediaId={post?.creator?.avatar!} />\n          </Cell>\n        }\n        right={\n          (\n            <>\n              <Cell onPress={() => navigation.navigate('Comments', { id: post.id })}>\n                <Icon name=\"message-circle\" color=\"text\" size={20} />\n                <Body1>{post.commentCount}</Body1>\n              </Cell>\n              <Cell onPress={() => setMenuVisible(true)}>\n                <Icon name=\"more-horizontal\" color=\"text\" size={20} />\n              </Cell>\n            </>\n          )\n        }\n        description={post.body}\n        overline={post.creator?.name || post.creator?.username}\n      />\n      <Popup onClose={() => setMenuVisible(false)} visible={menuVisible}>\n      </Popup>\n    </Wrapper>\n  );\n};\n\nexport { PostRow };\n","import { useCallback } from 'react';\nimport * as ImagePicker from 'expo-image-picker';\nimport styled from 'styled-components/native';\nimport { UploadFile } from '#/hooks/posts';\nimport { Icon } from '#/components';\nimport { Row } from '../Row';\n\ntype Props = {\n  files: UploadFile[];\n  onUpdate: (files: UploadFile[]) => void;\n};\n\nconst Image = styled.Image`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px;\n`;\n\nconst Spacer = styled.View`\n  padding-bottom: 100%;\n`;\n\nconst Item = styled.View`\n  width: 33%;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.View`\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nconst Button = styled.TouchableOpacity`\n  position: absolute;\n  top: 5px;\n  left: 0px;\n  bottom: 5px;\n  right: 10px;\n  justify-content: center;\n  align-items: center;\n  background: #ddd;\n  border-radius: 5px;\n`;\n\nconst ImageWrapper = styled.TouchableOpacity`\n  position: absolute;\n  top: 5px;\n  left: 0px;\n  bottom: 5px;\n  right: 10px;\n`;\n\nconst AddImages: React.FC<Props> = ({ files, onUpdate }) => {\n  const pickImage = useCallback(async () => {\n    // No permissions request is necessary for launching the image library\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      quality: 1,\n      base64: true,\n    });\n\n    if (result.cancelled || !result.base64) {\n      return;\n    }\n    let [filename] = result.uri.split('/');\n    let match = /\\.(\\w+)$/.exec(filename);\n    let type = match ? `image/${match[1]}` : 'image';\n\n    const file = {\n      type,\n      name: filename,\n      uri: result.uri,\n    };\n    onUpdate([...files, file]);\n  }, [files, onUpdate]);\n\n  const remove = useCallback(\n    (file: UploadFile) => {\n      onUpdate(files.filter(f => f !== file));\n    },\n    [files, onUpdate]\n  );\n\n  return (\n    <Row>\n      <Wrapper>\n        {files.map(m => (\n          <Item key={m.uri}>\n            <Spacer />\n            <ImageWrapper onPress={() => remove(m)}>\n              <Image source={{ uri: m.uri }} />\n            </ImageWrapper>\n          </Item>\n        ))}\n        <Item>\n          <Spacer />\n          <Button onPress={pickImage}>\n            <Icon name=\"plus-circle\" size={40} />\n          </Button>\n        </Item>\n      </Wrapper>\n    </Row>\n  );\n};\n\nexport { AddImages };\n","import { Row, Dialog } from '#/components';\nimport { DeepPartial } from '#/helpers/types';\nimport { FeedModel } from '#/hooks/graphql';\nimport { Body1 } from '#/typography';\nimport { useState } from 'react';\n\ntype FeedInputProps = {\n  label: string;\n  feeds: DeepPartial<FeedModel>[];\n  selected?: DeepPartial<FeedModel>;\n  onSelect: (feed?: DeepPartial<FeedModel>) => void;\n};\n\nconst FeedInput: React.FC<FeedInputProps> = ({\n  label,\n  feeds,\n  selected,\n  onSelect,\n}) => {\n  const [visible, setVisible] = useState(false);\n  return (\n    <>\n      <Row overline={label} onPress={() => setVisible(true)}>\n        <Body1>{selected?.name || 'Select'}</Body1>\n      </Row>\n      <Dialog\n        visible={visible}\n        selected={selected}\n        onClose={() => setVisible(false)}\n        items={feeds || []}\n        getKey={item => item.id}\n        onSelect={onSelect}\n        renderSelect={item => <Row title={item.name} />}\n      />\n    </>\n  );\n};\n\nexport { FeedInput };\n","import { Row, Dialog } from '#/components';\nimport { PartialDeep } from 'type-fest';\nimport { UserModel } from '#/hooks/graphql';\nimport { Body1 } from '#/typography';\nimport { useState } from 'react';\n\ntype UserInputProps = {\n  label: string;\n  users: PartialDeep<UserModel>[];\n  selected?: PartialDeep<UserModel>;\n  onSelect: (user?: PartialDeep<UserModel>) => void;\n};\n\nconst UserInput: React.FC<UserInputProps> = ({\n  label,\n  users,\n  selected,\n  onSelect,\n}) => {\n  const [visible, setVisible] = useState(false);\n  return (\n    <>\n      <Row overline={label} onPress={() => setVisible(true)}>\n        <Body1>{selected?.name || selected?.username || 'Select'}</Body1>\n      </Row>\n      <Dialog\n        visible={visible}\n        selected={selected}\n        onClose={() => setVisible(false)}\n        items={users || []}\n        getKey={item => item.id}\n        onSelect={onSelect}\n        renderSelect={item => <Row title={item.name || item.username} />}\n      />\n    </>\n  );\n};\n\nexport { UserInput };\n","import { Row, Dialog } from '#/components';\nimport { Body1 } from '#/typography';\nimport { useState } from 'react';\n\ntype NameValueInputItem = {\n  key: string;\n  value: any;\n};\n\ntype NameValueInputProps = {\n  label: string;\n  items: NameValueInputItem[];\n  selected?: NameValueInputItem;\n  onSelect: (item?: NameValueInputItem) => void;\n};\n\nconst NameValueInput: React.FC<NameValueInputProps> = ({\n  label,\n  items,\n  selected,\n  onSelect,\n}) => {\n  const [visible, setVisible] = useState(false);\n  return (\n    <>\n      <Row overline={label} onPress={() => setVisible(true)}>\n        <Body1>{selected?.key || 'Select'}</Body1>\n      </Row>\n      <Dialog\n        visible={visible}\n        selected={selected}\n        onClose={() => setVisible(false)}\n        items={items}\n        getKey={item => item.key}\n        onSelect={onSelect}\n        renderSelect={item => <Row title={item.key} />}\n      />\n    </>\n  );\n};\n\nexport { NameValueInputItem, NameValueInput };\n","import { gql } from '@apollo/client';\nimport * as Apollo from '@apollo/client';\nexport type Maybe<T> = T | null;\nexport type InputMaybe<T> = Maybe<T>;\nexport type Exact<T extends { [key: string]: unknown }> = { [K in keyof T]: T[K] };\nexport type MakeOptional<T, K extends keyof T> = Omit<T, K> & { [SubKey in K]?: Maybe<T[SubKey]> };\nexport type MakeMaybe<T, K extends keyof T> = Omit<T, K> & { [SubKey in K]: Maybe<T[SubKey]> };\nconst defaultOptions = {} as const;\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string;\n  String: string;\n  Boolean: boolean;\n  Int: number;\n  Float: number;\n  /** The javascript `Date` as string. Type represents date and time as the ISO Date string. */\n  DateTime: any;\n};\n\nexport type CommentCreateParameters = {\n  content?: InputMaybe<Scalars['String']>;\n  post: Scalars['String'];\n};\n\nexport type CommentModel = {\n  __typename?: 'CommentModel';\n  content: Scalars['String'];\n  created: Scalars['DateTime'];\n  creator: UserModel;\n  id: Scalars['String'];\n  post: PostModel;\n};\n\nexport type FeedModel = {\n  __typename?: 'FeedModel';\n  id: Scalars['String'];\n  name: Scalars['String'];\n  posts: Array<PostModel>;\n  users: Array<UserFeedRelationModel>;\n};\n\n\nexport type FeedModelPostsArgs = {\n  filter?: InputMaybe<PostFindParameters>;\n};\n\nexport type MediaModel = {\n  __typename?: 'MediaModel';\n  aspect?: Maybe<Scalars['Float']>;\n  contentType?: Maybe<Scalars['String']>;\n  created?: Maybe<Scalars['DateTime']>;\n  creator: UserModel;\n  filename?: Maybe<Scalars['String']>;\n  id: Scalars['String'];\n  lowres?: Maybe<Scalars['String']>;\n  order?: Maybe<Scalars['Float']>;\n  size: Scalars['Float'];\n  type?: Maybe<Scalars['String']>;\n};\n\nexport type Mutation = {\n  __typename?: 'Mutation';\n  addUserToFeed: UserFeedRelationModel;\n  createAuthToken: Scalars['String'];\n  createComment: CommentModel;\n  createFeed: FeedModel;\n  createPost: PostModel;\n  inviteProfile: UserModel;\n  registerPushNotification: PushRegistrationModel;\n  removeUserFromFeed: Scalars['Boolean'];\n  setProfileAvatar: UserModel;\n};\n\n\nexport type MutationAddUserToFeedArgs = {\n  accessType: Scalars['String'];\n  feedId: Scalars['String'];\n  userId: Scalars['String'];\n};\n\n\nexport type MutationCreateAuthTokenArgs = {\n  secret: Scalars['String'];\n  username: Scalars['String'];\n};\n\n\nexport type MutationCreateCommentArgs = {\n  params: CommentCreateParameters;\n};\n\n\nexport type MutationCreateFeedArgs = {\n  name: Scalars['String'];\n};\n\n\nexport type MutationCreatePostArgs = {\n  params: PostCreateParameters;\n};\n\n\nexport type MutationInviteProfileArgs = {\n  email: Scalars['String'];\n};\n\n\nexport type MutationRegisterPushNotificationArgs = {\n  token: Scalars['String'];\n};\n\n\nexport type MutationRemoveUserFromFeedArgs = {\n  feedId: Scalars['String'];\n  userId: Scalars['String'];\n};\n\n\nexport type MutationSetProfileAvatarArgs = {\n  mediaId?: InputMaybe<Scalars['String']>;\n};\n\nexport type PostCreateParameters = {\n  body?: InputMaybe<Scalars['String']>;\n  feed: Scalars['String'];\n  media: Array<Scalars['String']>;\n};\n\nexport type PostFindParameters = {\n  after?: InputMaybe<Scalars['DateTime']>;\n  feeds?: InputMaybe<Array<Scalars['String']>>;\n  limit?: InputMaybe<Scalars['Float']>;\n  offset?: InputMaybe<Scalars['Float']>;\n};\n\nexport type PostModel = {\n  __typename?: 'PostModel';\n  body?: Maybe<Scalars['String']>;\n  commentCount: Scalars['Float'];\n  comments: Array<CommentModel>;\n  created: Scalars['DateTime'];\n  creator?: Maybe<UserModel>;\n  feed: FeedModel;\n  id: Scalars['String'];\n  media: Array<MediaModel>;\n};\n\nexport type PushRegistrationModel = {\n  __typename?: 'PushRegistrationModel';\n  device?: Maybe<Scalars['String']>;\n  id: Scalars['String'];\n};\n\nexport type Query = {\n  __typename?: 'Query';\n  feed: FeedModel;\n  feeds: Array<FeedModel>;\n  post: PostModel;\n  posts: Array<PostModel>;\n  profile?: Maybe<UserModel>;\n  users: Array<UserModel>;\n};\n\n\nexport type QueryFeedArgs = {\n  id: Scalars['String'];\n};\n\n\nexport type QueryPostArgs = {\n  id: Scalars['String'];\n};\n\n\nexport type QueryPostsArgs = {\n  filter: PostFindParameters;\n};\n\nexport type UserFeedRelationModel = {\n  __typename?: 'UserFeedRelationModel';\n  accessType: Scalars['String'];\n  feed: FeedModel;\n  user: UserModel;\n};\n\nexport type UserModel = {\n  __typename?: 'UserModel';\n  admin: Scalars['Boolean'];\n  avatar?: Maybe<Scalars['String']>;\n  feeds: Array<UserFeedRelationModel>;\n  id: Scalars['String'];\n  name?: Maybe<Scalars['String']>;\n  username: Scalars['String'];\n};\n\nexport type CreateCommentMutationVariables = Exact<{\n  params: CommentCreateParameters;\n}>;\n\n\nexport type CreateCommentMutation = { __typename?: 'Mutation', createComment: { __typename?: 'CommentModel', id: string } };\n\nexport type FeedsQueryVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type FeedsQuery = { __typename?: 'Query', feeds: Array<{ __typename?: 'FeedModel', id: string, name: string, posts: Array<{ __typename?: 'PostModel', id: string, body?: string | null, media: Array<{ __typename?: 'MediaModel', id: string }> }> }> };\n\nexport type FeedQueryVariables = Exact<{\n  feedId: Scalars['String'];\n}>;\n\n\nexport type FeedQuery = { __typename?: 'Query', feed: { __typename?: 'FeedModel', id: string, name: string, users: Array<{ __typename?: 'UserFeedRelationModel', accessType: string, user: { __typename?: 'UserModel', id: string, name?: string | null, username: string } }> } };\n\nexport type CreateFeedMutationVariables = Exact<{\n  name: Scalars['String'];\n}>;\n\n\nexport type CreateFeedMutation = { __typename?: 'Mutation', createFeed: { __typename?: 'FeedModel', id: string } };\n\nexport type AddUserToFeedMutationVariables = Exact<{\n  accessType: Scalars['String'];\n  userId: Scalars['String'];\n  feedId: Scalars['String'];\n}>;\n\n\nexport type AddUserToFeedMutation = { __typename?: 'Mutation', addUserToFeed: { __typename?: 'UserFeedRelationModel', accessType: string } };\n\nexport type RemoveUserFromFeedMutationVariables = Exact<{\n  userId: Scalars['String'];\n  feedId: Scalars['String'];\n}>;\n\n\nexport type RemoveUserFromFeedMutation = { __typename?: 'Mutation', removeUserFromFeed: boolean };\n\nexport type PostQueryVariables = Exact<{\n  postId: Scalars['String'];\n}>;\n\n\nexport type PostQuery = { __typename?: 'Query', post: { __typename?: 'PostModel', id: string, created: any, creator?: { __typename?: 'UserModel', id: string, name?: string | null, avatar?: string | null, username: string } | null, comments: Array<{ __typename?: 'CommentModel', id: string, content: string, created: any, creator: { __typename?: 'UserModel', username: string, name?: string | null, id: string, avatar?: string | null } }>, media: Array<{ __typename?: 'MediaModel', id: string, contentType?: string | null, lowres?: string | null, aspect?: number | null, order?: number | null, created?: any | null, type?: string | null }> } };\n\nexport type PostsQueryVariables = Exact<{\n  filter: PostFindParameters;\n}>;\n\n\nexport type PostsQuery = { __typename?: 'Query', posts: Array<{ __typename?: 'PostModel', id: string, body?: string | null, commentCount: number, created: any, creator?: { __typename?: 'UserModel', name?: string | null, username: string, avatar?: string | null } | null, media: Array<{ __typename?: 'MediaModel', id: string, aspect?: number | null, type?: string | null }> }> };\n\nexport type CreatePostMutationVariables = Exact<{\n  params: PostCreateParameters;\n}>;\n\n\nexport type CreatePostMutation = { __typename?: 'Mutation', createPost: { __typename?: 'PostModel', id: string } };\n\nexport type ProfileQueryVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type ProfileQuery = { __typename?: 'Query', profile?: { __typename?: 'UserModel', id: string, username: string, name?: string | null, admin: boolean, avatar?: string | null, feeds: Array<{ __typename?: 'UserFeedRelationModel', accessType: string, feed: { __typename?: 'FeedModel', id: string, name: string } }> } | null };\n\nexport type SetProfileAvatarMutationVariables = Exact<{\n  mediaId?: InputMaybe<Scalars['String']>;\n}>;\n\n\nexport type SetProfileAvatarMutation = { __typename?: 'Mutation', setProfileAvatar: { __typename?: 'UserModel', id: string } };\n\nexport type RegisterPushNotificationMutationVariables = Exact<{\n  token: Scalars['String'];\n}>;\n\n\nexport type RegisterPushNotificationMutation = { __typename?: 'Mutation', registerPushNotification: { __typename?: 'PushRegistrationModel', id: string } };\n\nexport type UsersQueryVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type UsersQuery = { __typename?: 'Query', users: Array<{ __typename?: 'UserModel', id: string, name?: string | null, username: string, avatar?: string | null }> };\n\n\nexport const CreateCommentDocument = gql`\n    mutation CreateComment($params: CommentCreateParameters!) {\n  createComment(params: $params) {\n    id\n  }\n}\n    `;\nexport type CreateCommentMutationFn = Apollo.MutationFunction<CreateCommentMutation, CreateCommentMutationVariables>;\n\n/**\n * __useCreateCommentMutation__\n *\n * To run a mutation, you first call `useCreateCommentMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateCommentMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createCommentMutation, { data, loading, error }] = useCreateCommentMutation({\n *   variables: {\n *      params: // value for 'params'\n *   },\n * });\n */\nexport function useCreateCommentMutation(baseOptions?: Apollo.MutationHookOptions<CreateCommentMutation, CreateCommentMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<CreateCommentMutation, CreateCommentMutationVariables>(CreateCommentDocument, options);\n      }\nexport type CreateCommentMutationHookResult = ReturnType<typeof useCreateCommentMutation>;\nexport type CreateCommentMutationResult = Apollo.MutationResult<CreateCommentMutation>;\nexport type CreateCommentMutationOptions = Apollo.BaseMutationOptions<CreateCommentMutation, CreateCommentMutationVariables>;\nexport const FeedsDocument = gql`\n    query Feeds {\n  feeds {\n    id\n    name\n    posts {\n      id\n      body\n      media {\n        id\n      }\n    }\n  }\n}\n    `;\n\n/**\n * __useFeedsQuery__\n *\n * To run a query within a React component, call `useFeedsQuery` and pass it any options that fit your needs.\n * When your component renders, `useFeedsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useFeedsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useFeedsQuery(baseOptions?: Apollo.QueryHookOptions<FeedsQuery, FeedsQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<FeedsQuery, FeedsQueryVariables>(FeedsDocument, options);\n      }\nexport function useFeedsLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<FeedsQuery, FeedsQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<FeedsQuery, FeedsQueryVariables>(FeedsDocument, options);\n        }\nexport type FeedsQueryHookResult = ReturnType<typeof useFeedsQuery>;\nexport type FeedsLazyQueryHookResult = ReturnType<typeof useFeedsLazyQuery>;\nexport type FeedsQueryResult = Apollo.QueryResult<FeedsQuery, FeedsQueryVariables>;\nexport const FeedDocument = gql`\n    query Feed($feedId: String!) {\n  feed(id: $feedId) {\n    id\n    name\n    users {\n      accessType\n      user {\n        id\n        name\n        username\n      }\n    }\n  }\n}\n    `;\n\n/**\n * __useFeedQuery__\n *\n * To run a query within a React component, call `useFeedQuery` and pass it any options that fit your needs.\n * When your component renders, `useFeedQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useFeedQuery({\n *   variables: {\n *      feedId: // value for 'feedId'\n *   },\n * });\n */\nexport function useFeedQuery(baseOptions: Apollo.QueryHookOptions<FeedQuery, FeedQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<FeedQuery, FeedQueryVariables>(FeedDocument, options);\n      }\nexport function useFeedLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<FeedQuery, FeedQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<FeedQuery, FeedQueryVariables>(FeedDocument, options);\n        }\nexport type FeedQueryHookResult = ReturnType<typeof useFeedQuery>;\nexport type FeedLazyQueryHookResult = ReturnType<typeof useFeedLazyQuery>;\nexport type FeedQueryResult = Apollo.QueryResult<FeedQuery, FeedQueryVariables>;\nexport const CreateFeedDocument = gql`\n    mutation CreateFeed($name: String!) {\n  createFeed(name: $name) {\n    id\n  }\n}\n    `;\nexport type CreateFeedMutationFn = Apollo.MutationFunction<CreateFeedMutation, CreateFeedMutationVariables>;\n\n/**\n * __useCreateFeedMutation__\n *\n * To run a mutation, you first call `useCreateFeedMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateFeedMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createFeedMutation, { data, loading, error }] = useCreateFeedMutation({\n *   variables: {\n *      name: // value for 'name'\n *   },\n * });\n */\nexport function useCreateFeedMutation(baseOptions?: Apollo.MutationHookOptions<CreateFeedMutation, CreateFeedMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<CreateFeedMutation, CreateFeedMutationVariables>(CreateFeedDocument, options);\n      }\nexport type CreateFeedMutationHookResult = ReturnType<typeof useCreateFeedMutation>;\nexport type CreateFeedMutationResult = Apollo.MutationResult<CreateFeedMutation>;\nexport type CreateFeedMutationOptions = Apollo.BaseMutationOptions<CreateFeedMutation, CreateFeedMutationVariables>;\nexport const AddUserToFeedDocument = gql`\n    mutation AddUserToFeed($accessType: String!, $userId: String!, $feedId: String!) {\n  addUserToFeed(accessType: $accessType, userId: $userId, feedId: $feedId) {\n    accessType\n  }\n}\n    `;\nexport type AddUserToFeedMutationFn = Apollo.MutationFunction<AddUserToFeedMutation, AddUserToFeedMutationVariables>;\n\n/**\n * __useAddUserToFeedMutation__\n *\n * To run a mutation, you first call `useAddUserToFeedMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddUserToFeedMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addUserToFeedMutation, { data, loading, error }] = useAddUserToFeedMutation({\n *   variables: {\n *      accessType: // value for 'accessType'\n *      userId: // value for 'userId'\n *      feedId: // value for 'feedId'\n *   },\n * });\n */\nexport function useAddUserToFeedMutation(baseOptions?: Apollo.MutationHookOptions<AddUserToFeedMutation, AddUserToFeedMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<AddUserToFeedMutation, AddUserToFeedMutationVariables>(AddUserToFeedDocument, options);\n      }\nexport type AddUserToFeedMutationHookResult = ReturnType<typeof useAddUserToFeedMutation>;\nexport type AddUserToFeedMutationResult = Apollo.MutationResult<AddUserToFeedMutation>;\nexport type AddUserToFeedMutationOptions = Apollo.BaseMutationOptions<AddUserToFeedMutation, AddUserToFeedMutationVariables>;\nexport const RemoveUserFromFeedDocument = gql`\n    mutation RemoveUserFromFeed($userId: String!, $feedId: String!) {\n  removeUserFromFeed(userId: $userId, feedId: $feedId)\n}\n    `;\nexport type RemoveUserFromFeedMutationFn = Apollo.MutationFunction<RemoveUserFromFeedMutation, RemoveUserFromFeedMutationVariables>;\n\n/**\n * __useRemoveUserFromFeedMutation__\n *\n * To run a mutation, you first call `useRemoveUserFromFeedMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useRemoveUserFromFeedMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [removeUserFromFeedMutation, { data, loading, error }] = useRemoveUserFromFeedMutation({\n *   variables: {\n *      userId: // value for 'userId'\n *      feedId: // value for 'feedId'\n *   },\n * });\n */\nexport function useRemoveUserFromFeedMutation(baseOptions?: Apollo.MutationHookOptions<RemoveUserFromFeedMutation, RemoveUserFromFeedMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<RemoveUserFromFeedMutation, RemoveUserFromFeedMutationVariables>(RemoveUserFromFeedDocument, options);\n      }\nexport type RemoveUserFromFeedMutationHookResult = ReturnType<typeof useRemoveUserFromFeedMutation>;\nexport type RemoveUserFromFeedMutationResult = Apollo.MutationResult<RemoveUserFromFeedMutation>;\nexport type RemoveUserFromFeedMutationOptions = Apollo.BaseMutationOptions<RemoveUserFromFeedMutation, RemoveUserFromFeedMutationVariables>;\nexport const PostDocument = gql`\n    query Post($postId: String!) {\n  post(id: $postId) {\n    id\n    creator {\n      id\n      name\n      avatar\n      username\n    }\n    created\n    comments {\n      id\n      creator {\n        username\n        name\n        id\n        avatar\n      }\n      content\n      created\n    }\n    media {\n      id\n      contentType\n      lowres\n      aspect\n      order\n      created\n      type\n    }\n  }\n}\n    `;\n\n/**\n * __usePostQuery__\n *\n * To run a query within a React component, call `usePostQuery` and pass it any options that fit your needs.\n * When your component renders, `usePostQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = usePostQuery({\n *   variables: {\n *      postId: // value for 'postId'\n *   },\n * });\n */\nexport function usePostQuery(baseOptions: Apollo.QueryHookOptions<PostQuery, PostQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<PostQuery, PostQueryVariables>(PostDocument, options);\n      }\nexport function usePostLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<PostQuery, PostQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<PostQuery, PostQueryVariables>(PostDocument, options);\n        }\nexport type PostQueryHookResult = ReturnType<typeof usePostQuery>;\nexport type PostLazyQueryHookResult = ReturnType<typeof usePostLazyQuery>;\nexport type PostQueryResult = Apollo.QueryResult<PostQuery, PostQueryVariables>;\nexport const PostsDocument = gql`\n    query Posts($filter: PostFindParameters!) {\n  posts(filter: $filter) {\n    id\n    body\n    commentCount\n    creator {\n      name\n      username\n      avatar\n    }\n    created\n    media {\n      id\n      aspect\n      type\n    }\n  }\n}\n    `;\n\n/**\n * __usePostsQuery__\n *\n * To run a query within a React component, call `usePostsQuery` and pass it any options that fit your needs.\n * When your component renders, `usePostsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = usePostsQuery({\n *   variables: {\n *      filter: // value for 'filter'\n *   },\n * });\n */\nexport function usePostsQuery(baseOptions: Apollo.QueryHookOptions<PostsQuery, PostsQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<PostsQuery, PostsQueryVariables>(PostsDocument, options);\n      }\nexport function usePostsLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<PostsQuery, PostsQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<PostsQuery, PostsQueryVariables>(PostsDocument, options);\n        }\nexport type PostsQueryHookResult = ReturnType<typeof usePostsQuery>;\nexport type PostsLazyQueryHookResult = ReturnType<typeof usePostsLazyQuery>;\nexport type PostsQueryResult = Apollo.QueryResult<PostsQuery, PostsQueryVariables>;\nexport const CreatePostDocument = gql`\n    mutation CreatePost($params: PostCreateParameters!) {\n  createPost(params: $params) {\n    id\n  }\n}\n    `;\nexport type CreatePostMutationFn = Apollo.MutationFunction<CreatePostMutation, CreatePostMutationVariables>;\n\n/**\n * __useCreatePostMutation__\n *\n * To run a mutation, you first call `useCreatePostMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreatePostMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createPostMutation, { data, loading, error }] = useCreatePostMutation({\n *   variables: {\n *      params: // value for 'params'\n *   },\n * });\n */\nexport function useCreatePostMutation(baseOptions?: Apollo.MutationHookOptions<CreatePostMutation, CreatePostMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<CreatePostMutation, CreatePostMutationVariables>(CreatePostDocument, options);\n      }\nexport type CreatePostMutationHookResult = ReturnType<typeof useCreatePostMutation>;\nexport type CreatePostMutationResult = Apollo.MutationResult<CreatePostMutation>;\nexport type CreatePostMutationOptions = Apollo.BaseMutationOptions<CreatePostMutation, CreatePostMutationVariables>;\nexport const ProfileDocument = gql`\n    query Profile {\n  profile {\n    id\n    username\n    name\n    admin\n    avatar\n    feeds {\n      feed {\n        id\n        name\n      }\n      accessType\n    }\n  }\n}\n    `;\n\n/**\n * __useProfileQuery__\n *\n * To run a query within a React component, call `useProfileQuery` and pass it any options that fit your needs.\n * When your component renders, `useProfileQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useProfileQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useProfileQuery(baseOptions?: Apollo.QueryHookOptions<ProfileQuery, ProfileQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<ProfileQuery, ProfileQueryVariables>(ProfileDocument, options);\n      }\nexport function useProfileLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<ProfileQuery, ProfileQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<ProfileQuery, ProfileQueryVariables>(ProfileDocument, options);\n        }\nexport type ProfileQueryHookResult = ReturnType<typeof useProfileQuery>;\nexport type ProfileLazyQueryHookResult = ReturnType<typeof useProfileLazyQuery>;\nexport type ProfileQueryResult = Apollo.QueryResult<ProfileQuery, ProfileQueryVariables>;\nexport const SetProfileAvatarDocument = gql`\n    mutation SetProfileAvatar($mediaId: String) {\n  setProfileAvatar(mediaId: $mediaId) {\n    id\n  }\n}\n    `;\nexport type SetProfileAvatarMutationFn = Apollo.MutationFunction<SetProfileAvatarMutation, SetProfileAvatarMutationVariables>;\n\n/**\n * __useSetProfileAvatarMutation__\n *\n * To run a mutation, you first call `useSetProfileAvatarMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetProfileAvatarMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setProfileAvatarMutation, { data, loading, error }] = useSetProfileAvatarMutation({\n *   variables: {\n *      mediaId: // value for 'mediaId'\n *   },\n * });\n */\nexport function useSetProfileAvatarMutation(baseOptions?: Apollo.MutationHookOptions<SetProfileAvatarMutation, SetProfileAvatarMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<SetProfileAvatarMutation, SetProfileAvatarMutationVariables>(SetProfileAvatarDocument, options);\n      }\nexport type SetProfileAvatarMutationHookResult = ReturnType<typeof useSetProfileAvatarMutation>;\nexport type SetProfileAvatarMutationResult = Apollo.MutationResult<SetProfileAvatarMutation>;\nexport type SetProfileAvatarMutationOptions = Apollo.BaseMutationOptions<SetProfileAvatarMutation, SetProfileAvatarMutationVariables>;\nexport const RegisterPushNotificationDocument = gql`\n    mutation RegisterPushNotification($token: String!) {\n  registerPushNotification(token: $token) {\n    id\n  }\n}\n    `;\nexport type RegisterPushNotificationMutationFn = Apollo.MutationFunction<RegisterPushNotificationMutation, RegisterPushNotificationMutationVariables>;\n\n/**\n * __useRegisterPushNotificationMutation__\n *\n * To run a mutation, you first call `useRegisterPushNotificationMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useRegisterPushNotificationMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [registerPushNotificationMutation, { data, loading, error }] = useRegisterPushNotificationMutation({\n *   variables: {\n *      token: // value for 'token'\n *   },\n * });\n */\nexport function useRegisterPushNotificationMutation(baseOptions?: Apollo.MutationHookOptions<RegisterPushNotificationMutation, RegisterPushNotificationMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useMutation<RegisterPushNotificationMutation, RegisterPushNotificationMutationVariables>(RegisterPushNotificationDocument, options);\n      }\nexport type RegisterPushNotificationMutationHookResult = ReturnType<typeof useRegisterPushNotificationMutation>;\nexport type RegisterPushNotificationMutationResult = Apollo.MutationResult<RegisterPushNotificationMutation>;\nexport type RegisterPushNotificationMutationOptions = Apollo.BaseMutationOptions<RegisterPushNotificationMutation, RegisterPushNotificationMutationVariables>;\nexport const UsersDocument = gql`\n    query Users {\n  users {\n    id\n    name\n    username\n    avatar\n  }\n}\n    `;\n\n/**\n * __useUsersQuery__\n *\n * To run a query within a React component, call `useUsersQuery` and pass it any options that fit your needs.\n * When your component renders, `useUsersQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUsersQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useUsersQuery(baseOptions?: Apollo.QueryHookOptions<UsersQuery, UsersQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<UsersQuery, UsersQueryVariables>(UsersDocument, options);\n      }\nexport function useUsersLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<UsersQuery, UsersQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<UsersQuery, UsersQueryVariables>(UsersDocument, options);\n        }\nexport type UsersQueryHookResult = ReturnType<typeof useUsersQuery>;\nexport type UsersLazyQueryHookResult = ReturnType<typeof useUsersLazyQuery>;\nexport type UsersQueryResult = Apollo.QueryResult<UsersQuery, UsersQueryVariables>;","import { ServerContext } from '#/context/server';\nimport { useRegisterPushNotificationMutation } from '#/hooks/graphql';\nimport React, { useContext, useEffect } from 'react';\n\nconst PushRegistation: React.FC<{}> = () => {\n  const { pushToken } = useContext(ServerContext);\n  const [registerPushMutation] = useRegisterPushNotificationMutation();\n\n  useEffect(() => {\n    if (!pushToken) {\n      return;\n    }\n    registerPushMutation({\n      variables: {\n        token: pushToken,\n      },\n    });\n  }, [pushToken]);\n\n  return <></>;\n};\n\nexport { PushRegistation };\n","import { ServerContext } from '#/context/server';\nimport { useCallback, useContext } from 'react';\nimport { UploadFile } from './posts';\n\nexport const useCreateMedia = () => {\n  const { domain, token } = useContext(ServerContext);\n  const createMedia = useCallback(\n    async (media: UploadFile[]) => {\n      const ids = await Promise.all(\n        media.map(async file => {\n          const data = new FormData();\n          data.append('media', file as any);\n          const response = await fetch(`${domain}/api/media`, {\n            method: 'POST',\n            body: data,\n            headers: {\n              'content-type': 'multipart/form-data',\n              Authorization: `Bearer ${token}`,\n            },\n          });\n          if (!response.ok) {\n            console.error(await response.text());\n            throw new Error('Could not upload image');\n          }\n          const json = await response.json();\n          return json.ids[0] as string;\n        })\n      );\n      return ids;\n    },\n    [token, domain]\n  );\n  return createMedia;\n};\n","import { ServerContext } from '#/context/server';\nimport { useCallback, useContext, useMemo } from 'react';\nimport {\n  useCreatePostMutation,\n  usePostsQuery,\n  useProfileQuery,\n} from './graphql';\nimport { useCreateMedia } from './media';\n\nexport type UploadFile = {\n  uri: string;\n  name: string;\n  type: string;\n};\n\nexport const useCreatePostData = () => {\n  const { data, refetch, loading, error } = useProfileQuery();\n  const feeds = useMemo(\n    () => data?.profile?.feeds.filter(f => f.accessType === 'admin'),\n    [data]\n  );\n\n  return {\n    feeds,\n    refetch,\n    loading,\n    error,\n  };\n};\n\nexport const useCreatePost = () => {\n  const { domain, token } = useContext(ServerContext);\n  const [createPostMutation] = useCreatePostMutation();\n  const createMedia = useCreateMedia();\n  const createPost = useCallback(\n    async (feed: string, body: string, media: UploadFile[]) => {\n      const ids = await createMedia(media);\n      await createPostMutation({\n        variables: {\n          params: {\n            feed,\n            body,\n            media: ids,\n          },\n        },\n      });\n    },\n    [createPostMutation, token, domain]\n  );\n\n  return createPost;\n};\n\nexport const useFeed = (feeds?: string[]) => {\n  const { data, ...props } = usePostsQuery({\n    variables: {\n      filter: {\n        feeds,\n      },\n    },\n  });\n\n  console.log(props.error);\n\n  const posts = useMemo(() => data?.posts || [], [data]);\n\n  return {\n    ...props,\n    posts,\n  };\n};\n","import { useCallback, useMemo } from 'react';\nimport { useProfileQuery, useSetProfileAvatarMutation } from './graphql';\nimport { useCreateMedia } from './media';\nimport { UploadFile } from './posts';\n\nexport const useSetAvatar = () => {\n  const createMedia = useCreateMedia();\n  const [setAvatarMutation] = useSetProfileAvatarMutation();\n\n  const setAvatar = useCallback(async (media?: UploadFile) => {\n    const [id] = media ? await createMedia([media]) : [];\n    await setAvatarMutation({\n      variables: {\n        mediaId: id,\n      },\n    });\n  }, []);\n\n  return setAvatar;\n};\n\nexport const useProfile = () => {\n  const { data, refetch, loading, error } = useProfileQuery();\n  const feeds = useMemo(() => data?.profile?.feeds || [], [data]);\n  const profile = useMemo(() => data?.profile, [data]);\n\n  return {\n    profile,\n    feeds,\n    refetch,\n    loading,\n    error,\n  };\n};\n","import React, { useCallback, useState, useMemo } from 'react';\nimport styled from 'styled-components/native';\nimport { AddScreenNavigationProp } from '#/router/types';\nimport { UploadFile, useCreatePost } from '#/hooks/posts';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { Page, FeedInput, AddImages, Row, Input, Button } from '#/components';\nimport { Header } from '#/components';\nimport { useProfile } from '#/hooks/profile';\n\nconst Wrapper = styled.ScrollView`\n  flex: 1;\n`;\nconst Outer = styled.View`\n  flex: 1;\n  background-color: ${({ theme }) => theme.colors.background};\n`;\n\nconst AddPostScreen: React.FC<AddScreenNavigationProp> = ({ navigation }) => {\n  const { feeds, refetch } = useProfile();\n  const [selectedFeed, setSelectedFeed] = useState<any>();\n  const [media, setMedia] = useState<UploadFile[]>([]);\n  const [body, setBody] = useState('');\n  const createPost = useCreatePost();\n  const adminFeeds = useMemo(\n    () => feeds?.filter(f => f.accessType === 'admin').map(f => f.feed) || [],\n    [feeds]\n  );\n\n  const submit = useCallback(async () => {\n    await createPost(selectedFeed.id, body, media);\n    setSelectedFeed(undefined);\n    setMedia([]);\n    setBody('');\n    navigation.navigate('Feed', {});\n  }, [selectedFeed, body, media]);\n  useFocusEffect(\n    useCallback(() => {\n      refetch();\n    }, [refetch])\n  );\n\n  if (!feeds) {\n    return <></>;\n  }\n\n  return (\n    <Page>\n      <Outer>\n        <Header title=\"Create post\" />\n        <Wrapper>\n          <AddImages files={media} onUpdate={setMedia} />\n          <FeedInput\n            label=\"Feed\"\n            feeds={adminFeeds}\n            selected={selectedFeed}\n            onSelect={setSelectedFeed}\n          />\n          <Row overline=\"Content\">\n            <Input\n              label=\"Tell your story...\"\n              value={body}\n              onChangeText={setBody}\n            />\n          </Row>\n        </Wrapper>\n        <Row>\n          {!!selectedFeed && media.length > 0 && (\n            <Button onPress={submit} title=\"Create\" />\n          )}\n        </Row>\n      </Outer>\n    </Page>\n  );\n};\n\nexport { AddPostScreen };\n","import React, { useCallback, useMemo, useState } from 'react';\nimport styled from 'styled-components/native';\nimport { ListRenderItem, FlatList, RefreshControl, Dimensions } from 'react-native';\nimport MasonryList from '@react-native-seoul/masonry-list';\nimport { AddScreenNavigationProp } from '#/router/types';\nimport { useFeed } from '#/hooks/posts';\nimport { Page } from '#/components/Page';\nimport { PostFilter, PostRow } from '#/components';\nimport { Header } from '#/components';\nimport { useProfile } from '#/hooks/profile';\n\nconst Seperator = styled.View`\n  margin-top: 15px;\n  border-bottom-width: 5px;\n  margin-bottom: 15px;\n  border-color: ${({ theme }) => theme.colors.shade};\n`;\nconst Wrapper = styled.View`\n  background-color: ${({ theme }) => theme.colors.background};\n  flex: 1;\n`;\n\nconst FeedScreen: React.FC<AddScreenNavigationProp> = () => {\n  const [selectedFeeds, setSelectedFeeds] = useState<string[]>([]);\n  const { posts, loading, refetch } = useFeed(\n    selectedFeeds.length > 0 ? selectedFeeds : undefined\n  );\n  const { feeds } = useProfile();\n\n  const userFeeds = useMemo(() => feeds.map(f => f.feed), [feeds]);\n  const columns = useMemo(\n    () => Math.ceil(Dimensions.get('window').width / 500),\n    [],\n  );\n\n  const renderItem: ListRenderItem<typeof posts[0]> = useCallback(\n    ({ item }) => <PostRow key={item.id} post={item} />,\n    []\n  );\n\n  return (\n    <Page>\n      <Wrapper>\n        <Header\n          key=\"test\"\n          title=\"All posts\"\n          right={\n            <>\n              {userFeeds.length > 1 && (\n                <PostFilter\n                  feeds={userFeeds}\n                  selected={selectedFeeds}\n                  onSelect={setSelectedFeeds}\n                />\n              )}\n            </>\n          }\n        />\n        <MasonryList\n          data={posts}\n          keyExtractor={(item: any) => item.id}\n          renderItem={renderItem}\n          numColumns={columns}\n          ItemSeparatorComponent={Seperator}\n          refreshControl={\n            <RefreshControl refreshing={loading} onRefresh={refetch} />\n          }\n        />\n      </Wrapper>\n    </Page>\n  );\n};\n\nexport { FeedScreen };\n","import {\n  useAddUserToFeedMutation,\n  useCreateFeedMutation,\n  useRemoveUserFromFeedMutation,\n  useFeedQuery,\n} from '#/hooks/graphql';\nimport { useCallback, useMemo } from 'react';\n\nexport const useFeed = (id: string) => {\n  const { data, refetch, loading, error } = useFeedQuery({\n    variables: { feedId: id },\n  });\n  const feed = useMemo(() => data?.feed, [data]);\n  return {\n    feed,\n    refetch,\n    loading,\n    error,\n  };\n};\n\nconst useCreateFeed = () => {\n  const [createFeedMutation] = useCreateFeedMutation();\n  const createFeed = useCallback(\n    async (name: string) => {\n      await createFeedMutation({\n        variables: {\n          name,\n        },\n      });\n    },\n    [createFeedMutation]\n  );\n\n  return createFeed;\n};\n\nconst useAddUserToFeed = () => {\n  const [addUserToFeedMutation] = useAddUserToFeedMutation();\n  const addUserToFeed = useCallback(\n    async (feedId: string, userId: string, accessType: string) => {\n      await addUserToFeedMutation({\n        variables: {\n          feedId,\n          userId,\n          accessType,\n        },\n      });\n    },\n    [addUserToFeedMutation]\n  );\n\n  return addUserToFeed;\n};\n\nconst useRemoveUserFromFeed = () => {\n  const [removeUserFromFeedMutation] = useRemoveUserFromFeedMutation();\n  const removeUserFromFeed = useCallback(\n    async (feedId: string, userId: string) => {\n      await removeUserFromFeedMutation({\n        variables: {\n          feedId,\n          userId,\n        },\n      });\n    },\n    [removeUserFromFeedMutation]\n  );\n\n  return removeUserFromFeed;\n};\n\nexport { useCreateFeed, useAddUserToFeed, useRemoveUserFromFeed };\n","import { useCallback, useContext, useState } from 'react';\nimport * as ImagePicker from 'expo-image-picker';\nimport {\n  Avatar,\n  Button,\n  Cell,\n  Group,\n  Header,\n  Input,\n  Page,\n  Popup,\n  Row,\n} from '#/components';\nimport { useProfile, useSetAvatar } from '#/hooks/profile';\nimport { ProfileMainScreenNavigationProp } from '#/router/types';\nimport { useCreateFeed } from '#/hooks/feeds';\nimport { ServerContext } from '#/context/server';\n\nconst ProfileScreen: React.FC<ProfileMainScreenNavigationProp> = ({\n  navigation,\n}) => {\n  const { profile, feeds, refetch } = useProfile();\n  const { logout } = useContext(ServerContext);\n  const createFeed = useCreateFeed();\n  const [addFeedVisible, setAddFeedVisible] = useState(false);\n  const [feedName, setFeedName] = useState('');\n  const setAvatar = useSetAvatar();\n  const pickImage = useCallback(async () => {\n    // No permissions request is necessary for launching the image library\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      quality: 1,\n      base64: true,\n    });\n\n    if (result.cancelled || !result.base64) {\n      return;\n    }\n    let [filename] = result.uri.split('/');\n    let match = /\\.(\\w+)$/.exec(filename);\n    let type = match ? `image/${match[1]}` : 'image';\n\n    const file = {\n      type,\n      name: filename,\n      uri: result.uri,\n    };\n    await setAvatar(file);\n    await refetch();\n  }, []);\n  const saveAddFeed = useCallback(async () => {\n    await createFeed(feedName);\n    setFeedName('');\n    setAddFeedVisible(false);\n    await refetch();\n  }, [feedName, createFeed]);\n  return (\n    <Page>\n      <Header title=\"Profile\" />\n      <Row\n        left={\n          <Cell>\n            <Avatar\n              mediaId={profile?.avatar || undefined}\n              onPress={pickImage}\n            />\n          </Cell>\n        }\n        title={profile?.name || profile?.username}\n      />\n      <Popup visible={addFeedVisible} onClose={() => setAddFeedVisible(false)}>\n        <Row>\n          <Input label=\"Name\" value={feedName} onChangeText={setFeedName} />\n        </Row>\n        <Row>\n          <Button title=\"Save\" onPress={saveAddFeed} />\n        </Row>\n      </Popup>\n      <Group\n        title=\"My feeds\"\n        items={feeds}\n        getKey={item => item.feed.id}\n        add={\n          profile?.admin\n            ? () => {\n                setAddFeedVisible(true);\n              }\n            : undefined\n        }\n        render={item => (\n          <Row\n            title={item.feed.name}\n            overline={item.accessType}\n            right={\n              <Cell>\n                <Button title=\"Leave\" type=\"destructive\" />\n              </Cell>\n            }\n            onPress={() => {\n              navigation.navigate('FeedEdit', { id: item.feed.id });\n            }}\n          />\n        )}\n      />\n      <Row>\n        <Button title=\"Logout\" type=\"destructive\" onPress={logout} />\n      </Row>\n    </Page>\n  );\n};\n\nexport { ProfileScreen };\n","import { useMemo } from 'react';\nimport { useUsersQuery } from './graphql';\n\nexport const useUsers = () => {\n  const { data, refetch, loading, error } = useUsersQuery();\n  const users = useMemo(() => data?.users, [data]);\n  return {\n    users,\n    refetch,\n    loading,\n    error,\n  };\n};\n","import {\n  Group,\n  NameValueInput,\n  Header,\n  Input,\n  Page,\n  Popup,\n  Row,\n  UserInput,\n  NameValueInputItem,\n  Button,\n  Cell,\n} from '#/components';\nimport {\n  useAddUserToFeed,\n  useFeed,\n  useRemoveUserFromFeed,\n} from '#/hooks/feeds';\nimport { UserModel } from '#/hooks/graphql';\nimport { useUsers } from '#/hooks/users';\nimport { FeedEditScreenNavigationProp } from '#/router/types';\nimport { useCallback, useState } from 'react';\nimport { PartialDeep } from 'type-fest';\n\nconst accessTypes = [\n  { key: 'Admin', value: 'admin' },\n  { key: 'Moderator', value: 'moderator' },\n  { key: 'Writer', value: 'writer' },\n  { key: 'Reader', value: 'reader' },\n];\n\nconst FeedEditScreen: React.FC<FeedEditScreenNavigationProp> = ({ route }) => {\n  const { id } = route.params;\n  const { feed, refetch } = useFeed(id);\n  const { users } = useUsers();\n  const removeUserFromFeed = useRemoveUserFromFeed();\n  const addUserToFeed = useAddUserToFeed();\n  const [addUserVisible, setAddUserVisible] = useState(false);\n  const [addUserSelected, setAddUserSelected] =\n    useState<PartialDeep<UserModel>>();\n  const [addUserAccessType, setAddUserAccessType] =\n    useState<NameValueInputItem>();\n\n  const addUser = useCallback(async () => {\n    await addUserToFeed(id, addUserSelected!.id!, addUserAccessType!.value);\n    setAddUserSelected(undefined);\n    setAddUserAccessType(undefined);\n    setAddUserVisible(false);\n    await refetch();\n  }, [id, addUserSelected, addUserAccessType]);\n\n  const removeUser = useCallback(\n    async (userId: string) => {\n      await removeUserFromFeed(id, userId);\n      await refetch();\n    },\n    [id, removeUserFromFeed, refetch]\n  );\n\n  if (!feed) {\n    return <></>;\n  }\n\n  return (\n    <Page>\n      <Header title=\"Feed\" />\n      <Row>\n        <Input label=\"Name\" value={feed.name} />\n      </Row>\n      <Group\n        title=\"Users\"\n        add={() => {\n          setAddUserVisible(true);\n        }}\n        items={feed.users}\n        getKey={relation => relation.user.id}\n        render={relation => (\n          <Row\n            overline={relation.accessType}\n            title={relation.user.name || relation.user.username}\n            right={\n              <Cell>\n                <Button\n                  title=\"Remove\"\n                  onPress={() => removeUser(relation.user.id)}\n                />\n              </Cell>\n            }\n          />\n        )}\n      />\n      <Popup visible={addUserVisible} onClose={() => setAddUserVisible(false)}>\n        <UserInput\n          label=\"User\"\n          selected={addUserSelected}\n          onSelect={user => setAddUserSelected(user!)}\n          users={users}\n        />\n        <NameValueInput\n          label=\"Access type\"\n          selected={addUserAccessType}\n          onSelect={accessType => setAddUserAccessType(accessType!)}\n          items={accessTypes}\n        />\n        {!!addUserAccessType && !!addUserSelected && (\n          <Row>\n            <Button title=\"Save\" onPress={addUser} />\n          </Row>\n        )}\n      </Popup>\n    </Page>\n  );\n};\n\nexport { FeedEditScreen };\n","import React, { useCallback, useContext, useState } from 'react';\nimport styled from 'styled-components/native';\nimport { Input } from '#/components/Input';\nimport { Button } from '#/components/Button';\nimport { Cell, Row } from '#/components/Row';\nimport { ServerContext } from '#/context/server';\nimport { Header, Icon, Page } from '#/components';\nimport { LoginScreenNavigationProp } from '#/router/types';\n\nimport image from '#/../assets/images/tourist.png';\n\nconst Image = styled.Image`\n  width: 300px;\n  height: 300px;\n`;\n\nconst Wrapper = styled.View`\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  background: ${({ theme }) => theme.colors.shade};\n`;\n\nconst Content = styled.View`\n  padding: 15px;\n  margin: 30px;\n  background: ${({ theme }) => theme.colors.background};\n  border-radius: 15px;\n`;\nconst Text = styled.Text``;\n\nconst LoginScreen: React.FC<LoginScreenNavigationProp> = ({ navigation }) => {\n  const { login } = useContext(ServerContext);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<any>();\n  const [domain, setDomain] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const doLogin = useCallback(() => {\n    setLoading(true);\n    const run = async () => {\n      await login(domain, username, password);\n      setLoading(false);\n    };\n    run().catch(err => {\n      setLoading(false);\n      setError(err);\n    });\n  }, [domain, username, password]);\n\n  if (loading) {\n    return <Text>Loading</Text>;\n  }\n\n  return (\n    <Page>\n      <Wrapper>\n        <Content>\n          <Image source={image} />\n          {error && <Text>{error.toString()}</Text>}\n          <Row\n            left={\n              <Cell>\n                <Icon name=\"server\" />\n              </Cell>\n            }\n          >\n            <Input\n              autoCorrect={false}\n              label=\"Domain\"\n              value={domain}\n              onChangeText={setDomain}\n            />\n          </Row>\n          <Row\n            left={\n              <Cell>\n                <Icon name=\"user\" />\n              </Cell>\n            }\n          >\n            <Input\n              autoCorrect={false}\n              label=\"Username\"\n              value={username}\n              onChangeText={setUsername}\n            />\n          </Row>\n          <Row\n            left={\n              <Cell>\n                <Icon name=\"key\" />\n              </Cell>\n            }\n          >\n            <Input\n              secure\n              label=\"Secret\"\n              value={password}\n              onChangeText={setPassword}\n            />\n          </Row>\n          <Row>\n            <Button onPress={doLogin} title=\"Login\" />\n          </Row>\n        </Content>\n      </Wrapper>\n    </Page>\n  );\n};\n\nexport { LoginScreen };\n","import React, { useCallback, useContext, useState } from 'react';\nimport styled from 'styled-components/native';\nimport { Input } from '#/components/Input';\nimport { Button } from '#/components/Button';\nimport { Cell, Row } from '#/components/Row';\nimport { AcceptInvitationScreenNavigationProp } from '#/router/types';\nimport { ServerContext } from '#/context/server';\nimport { Text } from 'react-native';\nimport { Header, Icon, Page } from '#/components';\n\nimport image from '#/../assets/images/tourist.png';\n\nconst Image = styled.Image`\n  width: 300px;\n  height: 300px;\n`;\n\nconst Wrapper = styled.View`\n  align-items: center;\n  justify-content: center;\n  padding: 0 20px;\n  flex: 1;\n`;\n\nconst Content = styled.View`\n  padding: 15px;\n  margin: 30px;\n  background: ${({ theme }) => theme.colors.background};\n  border-radius: 15px;\n`;\n\nconst AcceptInvitationScreen: React.FC<\n  AcceptInvitationScreenNavigationProp\n> = ({ route, navigation }) => {\n  const { inviteCode } = route.params;\n  const { acceptInvitation } = useContext(ServerContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<any>();\n\n  const doAccept = useCallback(() => {\n    setLoading(true);\n    const run = async () => {\n      await acceptInvitation(inviteCode, username, password);\n      setLoading(false);\n    };\n    run().catch(err => {\n      setLoading(false);\n      setError(err);\n    });\n  }, [inviteCode, username, password]);\n\n  if (loading) {\n    return <Text>Loading</Text>;\n  }\n\n  return (\n    <Page>\n      <Wrapper>\n        <Content>\n          <Image source={image} />\n          <Row description=\"You are almost there! Just pick your username and password and off we go!\" />\n          <Row\n            left={\n              <Cell>\n                <Icon name=\"user\" />\n              </Cell>\n            }\n          >\n            <Input\n              autoCorrect={false}\n              label=\"Username\"\n              value={username}\n              onChangeText={setUsername}\n            />\n          </Row>\n          <Row\n            left={\n              <Cell>\n                <Icon name=\"key\" />\n              </Cell>\n            }\n          >\n            <Input\n              secure\n              label=\"Password\"\n              value={password}\n              onChangeText={setPassword}\n            />\n          </Row>\n          <Row>\n            <Button onPress={doAccept} title=\"Let's GO\" />\n          </Row>\n        </Content>\n      </Wrapper>\n    </Page>\n  );\n};\n\nexport { AcceptInvitationScreen };\n","\nimport {\n  Header,\n  Input,\n  Page,\n  Row,\n  Button,\n  Cell,\n  Avatar,\n} from '#/components';\nimport { useCreateCommentMutation, usePostQuery } from '#/hooks/graphql';\nimport { CommentsScreenNavigationProp } from '#/router/types';\nimport { useCallback, useState } from 'react';\nimport { FlatList } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport styled from 'styled-components/native';\n\nconst Content = styled.View`\n  flex: 1;\n`\n\nconst Wrapper = styled.View`\n  flex: 1;\n`\n\nconst CommentsScreen: React.FC<CommentsScreenNavigationProp> = ({ route }) => {\n  const { id } = route.params;\n  const insets = useSafeAreaInsets();\n  const [content, setContent] = useState('');\n  const [createCommentMutation] = useCreateCommentMutation();\n  const { data, refetch } = usePostQuery({\n    variables: {\n      postId: id,\n    },\n  });\n\n  const createComment = useCallback(\n    async () => {\n      await createCommentMutation({\n        variables: {\n          params: {\n            content,\n            post: id,\n          }\n        }\n      });\n      setContent('');\n      await refetch();\n    },\n    [content, id, createCommentMutation, refetch],\n  )\n  return (\n    <Page>\n      <Header title=\"Comments\" />\n      <Wrapper style={{ paddingBottom: insets.bottom + 20 }}>\n        <Content>\n          <FlatList\n            style={{ flex: 1 }}\n            inverted\n            keyExtractor={item => item.id}\n            renderItem={({ item }) => (\n              <Row\n                left={(\n                  <Cell>\n                    <Avatar mediaId={item.creator.avatar || undefined}/>\n                  </Cell>\n                )}\n                overline={item.creator.name || item.creator.username}\n                description={item.content}\n              />\n            )}\n            data={[...(data?.post.comments || [])].reverse()}\n          />\n        </Content> \n        <Row\n          right={(\n            <Button title=\"Send\" onPress={createComment} />\n          )}\n        >\n          <Input label=\" Say something...\" value={content} onChangeText={setContent} />\n        </Row>\n      </Wrapper>\n    </Page>\n  );\n};\n\nexport { CommentsScreen };\n","import React, { useContext, useMemo } from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport {\n  NavigationContainer,\n  DefaultTheme,\n  DarkTheme,\n} from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from 'styled-components/native';\nimport { ProfileParamList, RootStackParamList, TabParamList } from './types';\nimport { linkingConfig } from './linking';\nimport { Icon, PushRegistation } from '#/components';\n\nimport { AddPostScreen } from '#/screens/posts/add';\nimport { FeedScreen } from '#/screens/posts/feed';\nimport { ProfileScreen } from '#/screens/profile';\nimport { FeedEditScreen } from '#/screens/feeds/edit';\nimport { ServerContext } from '#/context/server';\nimport { LoginScreen } from '#/screens/login/login';\nimport { useProfile } from '#/hooks/profile';\nimport { AcceptInvitationScreen } from '#/screens/login/accept-invitation';\nimport { CommentsScreen } from '#/screens/comments';\n\nconst RootStack = createNativeStackNavigator<RootStackParamList>();\nconst TabStack = createBottomTabNavigator<TabParamList>();\nconst ProfileStack = createNativeStackNavigator<ProfileParamList>();\n\nconst Profile = () => {\n  return (\n    <ProfileStack.Navigator screenOptions={{ headerShown: false }}>\n      <ProfileStack.Screen name=\"ProfileMain\" component={ProfileScreen} />\n    </ProfileStack.Navigator>\n  );\n};\n\nconst Tabs = () => {\n  const theme = useTheme();\n  const { profile } = useProfile();\n  const canCreate = useMemo(\n    () =>\n      profile?.feeds?.find(\n        f =>\n          f.accessType === 'admin' ||\n          f.accessType === 'moderator' ||\n          f.accessType === 'writer'\n      ),\n    [profile]\n  );\n  return (\n    <>\n      <PushRegistation />\n      <TabStack.Navigator\n        screenOptions={{\n          headerShown: false,\n          tabBarActiveTintColor: theme.colors.primary,\n        }}\n      >\n        <TabStack.Screen\n          name=\"Feed\"\n          component={FeedScreen}\n          options={{\n            title: 'Posts',\n            tabBarIcon: ({ focused }) => (\n              <Icon\n                color={focused ? 'primary' : 'text'}\n                name=\"home\"\n                size={28}\n              />\n            ),\n          }}\n        />\n        {canCreate && (\n          <TabStack.Screen\n            name=\"Add\"\n            component={AddPostScreen}\n            options={{\n              title: 'Add',\n              tabBarIcon: ({ focused }) => (\n                <Icon\n                  color={focused ? 'primary' : 'text'}\n                  name=\"plus-square\"\n                  size={28}\n                />\n              ),\n            }}\n          />\n        )}\n        <TabStack.Screen\n          name=\"Profile\"\n          component={Profile}\n          options={{\n            title: 'Profile',\n            tabBarIcon: ({ focused }) => (\n              <Icon\n                color={focused ? 'primary' : 'text'}\n                name=\"user\"\n                size={28}\n              />\n            ),\n          }}\n        />\n      </TabStack.Navigator>\n    </>\n  );\n};\n\nconst Root = () => {\n  const theme = useTheme();\n  const { domain } = useContext(ServerContext);\n  return (\n    <RootStack.Navigator screenOptions={{ headerShown: false }}>\n      {domain ? (\n        <>\n          <RootStack.Group>\n            <RootStack.Screen name=\"Main\" component={Tabs} />\n          </RootStack.Group>\n          <RootStack.Group\n            screenOptions={{\n              contentStyle: {\n                backgroundColor: theme.colors.shade,\n              },\n              presentation: 'modal',\n            }}\n          >\n            <RootStack.Screen name=\"FeedEdit\" component={FeedEditScreen} />\n            <RootStack.Screen name=\"Comments\" component={CommentsScreen} />\n          </RootStack.Group>\n        </>\n      ) : (\n        <RootStack.Group>\n          <RootStack.Screen name=\"Login\" component={LoginScreen} />\n          <RootStack.Screen\n            initialParams={{ inviteCode: '' }}\n            name=\"AcceptInvitation\"\n            component={AcceptInvitationScreen}\n          />\n        </RootStack.Group>\n      )}\n    </RootStack.Navigator>\n  );\n};\n\ninterface RouterProps {\n  colorScheme: string;\n}\n\nconst Router: React.FC<RouterProps> = ({ colorScheme }) => {\n  const theme = useTheme();\n  const baseTheme = useMemo(\n    () => (colorScheme === 'dark' ? DarkTheme : DefaultTheme),\n    [colorScheme]\n  );\n  const navigationTheme = useMemo(\n    () => ({\n      ...baseTheme,\n      colors: {\n        ...baseTheme.colors,\n        background: theme.colors.shade,\n        card: theme.colors.background,\n        text: theme.colors.text,\n      },\n    }),\n    [baseTheme, theme]\n  );\n  return (\n    <>\n      <NavigationContainer theme={navigationTheme}>\n        <Root />\n      </NavigationContainer>\n    </>\n  );\n};\n\nexport { Router };\n","import { Image } from 'react-native';\n\nif (!Image.getSizeWithHeaders) {\n  Image.getSizeWithHeaders = (uri, headers, success, failed) => {\n    success(100, 100);\n  };\n}\n\nimport App from './src/App';\n\nexport default App;\n","import { SafeAreaProvider } from 'react-native-safe-area-context';\nimport { useColorScheme } from './hooks/colors';\nimport { ThemeProvider } from 'styled-components/native';\nimport { StatusBar } from 'expo-status-bar';\nimport { GraphQLProvider } from './context/graphql';\nimport { ServerProvider } from './context/server';\nimport { light, dark } from '#/theme';\nimport { Router } from '#/router';\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n  return (\n    <ThemeProvider theme={colorScheme === 'dark' ? dark : light}>\n      <SafeAreaProvider>\n        <ServerProvider>\n          <StatusBar style={colorScheme === 'dark' ? 'light' : 'dark'} />\n          <GraphQLProvider>\n            <Router colorScheme={colorScheme} />\n          </GraphQLProvider>\n        </ServerProvider>\n      </SafeAreaProvider>\n    </ThemeProvider>\n  );\n}\n","import {\n  ColorSchemeName,\n  useColorScheme as _useColorScheme,\n} from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","import React, { createContext, useCallback, useEffect, useState } from 'react';\nimport { Buffer } from 'buffer';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { registerForPushNotificationsAsync } from './push';\n\nconst STORAGE_KEY = '_/server';\ntype ServerContextValue = {\n  domain?: string;\n  pushToken: string | undefined;\n  token?: string;\n  logout: () => Promise<void>;\n  login: (domain: string, username: string, secret: string) => Promise<void>;\n  acceptInvitation: (\n    invitation: string,\n    username: string,\n    secret: string,\n    name?: string\n  ) => Promise<void>;\n};\n\nconst ServerContext = createContext<ServerContextValue>(undefined as any);\n\nconst ServerProvider: React.FC = ({ children }) => {\n  const [context, setContext] = useState<{ domain: string; token: string }>();\n  const [error, setError] = useState<any>();\n  const [pushToken, setPushToken] = useState<string>();\n  const [ready, setReady] = useState(false);\n  const logout = useCallback(async () => {\n    await AsyncStorage.removeItem(STORAGE_KEY);\n    setContext(undefined);\n  }, [setContext]);\n\n  useEffect(() => {\n    if (!context) {\n      return;\n    }\n    registerForPushNotificationsAsync().then(setPushToken);\n  }, [context]);\n\n  const login = useCallback(\n    async (domain: string, username: string, secret: string) => {\n      const authUrl = `${domain}/graphql`;\n      const response = await fetch(authUrl, {\n        method: 'post',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          query: `\n            mutation CreateAuthToken($secret: String!, $username: String!) {\n              createAuthToken(secret: $secret, username: $username)\n            } \n          `,\n          variables: {\n            username,\n            secret,\n          },\n        }),\n      });\n      const json = await response.json();\n      if (!response.ok) {\n        setError(json.errors);\n        throw new Error('failed');\n      }\n      const context = {\n        token: json.data.createAuthToken,\n        domain,\n      };\n      setContext(context);\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(context));\n    },\n    []\n  );\n\n  const acceptInvitation = useCallback(\n    async (\n      invitation: string,\n      username: string,\n      secret: string,\n      name?: string\n    ) => {\n      const rawInvite = Buffer.from(invitation, 'base64').toString('utf-8');\n      const { creationToken, domain } = JSON.parse(rawInvite);\n      const authUrl = `${domain}/api/accept-invitation`;\n      const response = await fetch(authUrl, {\n        method: 'post',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username,\n          secret,\n          creationToken,\n          name,\n        }),\n      });\n      if (!response.ok) {\n        throw new Error(await response.text());\n      }\n      const json = await response.json();\n      console.log(json);\n      const context = {\n        token: json.token,\n        domain,\n      };\n      setContext(context);\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(context));\n    },\n    []\n  );\n\n  useEffect(() => {\n    const run = async () => {\n      const item = await AsyncStorage.getItem(STORAGE_KEY);\n      if (item) {\n        const nextContext = JSON.parse(item) as ServerContextValue;\n        const configResponse = await fetch(`${nextContext.domain}/api/config`, {\n          headers: {\n            Authorization: `Bearer ${nextContext.token}`,\n          },\n        });\n        if (configResponse.ok) {\n          setContext(JSON.parse(item));\n        }\n      }\n      setReady(true);\n    };\n    run().catch(err => {\n      setReady(true);\n      setError(err);\n    });\n  }, []);\n\n  if (!ready) {\n    return <></>;\n  }\n\n  return (\n    <ServerContext.Provider\n      value={{ ...context, pushToken, logout, login, acceptInvitation }}\n    >\n      {children}\n    </ServerContext.Provider>\n  );\n};\n\nexport { ServerContext, ServerProvider };\n","import * as Device from 'expo-device';\nimport { Platform } from 'react-native';\nimport * as Notifications from 'expo-notifications';\n\nexport const registerForPushNotificationsAsync = async () => {\n  if (Device.isDevice && Platform.OS !== 'web') {\n    const { status: existingStatus } =\n      await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      alert('Failed to get push token for push notification!');\n      return;\n    }\n    const token = (await Notifications.getExpoPushTokenAsync()).data;\n    if (Platform.OS === 'android') {\n      Notifications.setNotificationChannelAsync('default', {\n        name: 'default',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#FF231F7C',\n      });\n    }\n    return token;\n  };\n};\n","import { ServerContext } from '#/context/server';\nimport styled from 'styled-components/native';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { DeepPartial } from '#/helpers/types';\nimport { MediaModel } from '#/hooks/graphql';\n\nconst Wrapper = styled.View<{\n  height: number;\n}>`\n  height: ${({ height }) => height}px;\n`;\nconst ImageWrapper = styled.Image`\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #ccc;\n`;\n\ntype Props = {\n  media: DeepPartial<MediaModel>;\n};\nconst Image: React.FC<Props> = ({ media }) => {\n  const { domain, token } = useContext(ServerContext);\n  const [width, setWidth] = useState<number>(0);\n  const [url, setUrl] = useState<string>();\n  useEffect(() => {\n    const run = async () => {\n      const response = await fetch(`${domain}/api/thumb/${media.id!}`, {\n        headers: {\n          Authorization: `bearer ${token!}`,\n        },\n      });\n      const binaryData = await response.arrayBuffer();\n      const contentType = response.headers.get('content-type');\n      const base64 = Buffer.from(binaryData).toString('base64');\n      const dataUrl = `data:${contentType || 'image/jpeg'};base64,${base64}`;\n      setUrl(dataUrl);\n    };\n    run();\n  }, [domain, token, media.id]);\n  return (\n    <Wrapper\n      height={width / media.aspect!}\n      onLayout={evt => {\n        const currentWidth = evt.nativeEvent.layout.width;\n        if (currentWidth !== width) {\n          setWidth(currentWidth);\n        }\n      }}\n    >\n      <ImageWrapper source={{ uri: url }} />\n    </Wrapper>\n  );\n};\n\nexport { Image };\n"],"sourceRoot":""}